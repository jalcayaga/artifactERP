(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9545],{8324:function(e,t,r){Promise.resolve().then(r.bind(r,4564))},4564:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437);r(2265);var n=r(7648),s=r(9397),i=r(8560),o=r(4508),l=r(6070),c=()=>{let{items:e,removeItem:t,updateItemQuantity:r,cartTotal:c,itemCount:d}=(0,s.j)();return(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-8 md:mb-12",children:[(0,a.jsx)(i.Q1,{className:"w-12 h-12 text-primary mb-3"}),(0,a.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground tracking-tight",children:"Tu Carrito de Compras"})]}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("p",{className:"text-xl text-muted-foreground mb-4",children:"Tu carrito est\xe1 vac\xedo."}),(0,a.jsx)(n.default,{href:"/products",className:"inline-flex items-center justify-center rounded-md bg-primary px-6 py-3 text-base font-semibold text-primary-foreground shadow-md hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary transition-all duration-300",children:"Explorar Productos"})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[e.map(e=>(0,a.jsxs)(l.Zb,{className:"flex flex-col sm:flex-row items-start sm:items-center p-4 gap-4 border transition-shadow hover:shadow-md",children:[e.image&&(0,a.jsx)(n.default,{href:"/products/".concat(e.productId),className:"flex-shrink-0 self-center sm:self-start",children:(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-24 h-24 object-cover rounded-md border"})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)(n.default,{href:"/products/".concat(e.productId),children:(0,a.jsx)("h3",{className:"text-md font-semibold text-foreground hover:text-primary transition-colors",children:e.name})}),(0,a.jsxs)("p",{className:"text-sm text-primary font-medium",children:[(0,o.eQ)(e.price)," / unidad"]}),e.installationService&&(0,a.jsxs)("div",{className:"text-xs text-secondary flex items-center mt-0.5",children:[(0,a.jsx)(i.KY,{className:"w-3.5 h-3.5 mr-1.5 text-secondary/80"}),(0,a.jsxs)("span",{children:["Servicio de Instalaci\xf3n: +",(0,o.eQ)(e.installationService.price)," / unidad"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,a.jsx)("label",{htmlFor:"quantity-".concat(e.productId),className:"text-xs text-muted-foreground",children:"Cant:"}),(0,a.jsx)("input",{type:"number",id:"quantity-".concat(e.productId),value:e.quantity,onChange:t=>r(e.productId,parseInt(t.target.value,10)||1),min:"1",className:"w-16 px-2 py-1 border border-border rounded-md text-sm bg-transparent focus:ring-1 focus:ring-primary focus:border-primary","aria-label":"Cantidad de ".concat(e.name)})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end sm:ml-auto mt-3 sm:mt-0 self-start sm:self-center",children:[(0,a.jsx)("p",{className:"text-md font-semibold text-foreground mb-2 sm:mb-0",children:(0,o.eQ)(e.price*e.quantity+(e.installationService?e.installationService.price*e.quantity:0))}),(0,a.jsxs)("button",{onClick:()=>t(e.productId),className:"text-xs text-destructive hover:text-destructive/80 p-1 rounded-md hover:bg-destructive/10 transition-colors flex items-center mt-1","aria-label":"Eliminar ".concat(e.name," del carrito"),children:[(0,a.jsx)(i.XH,{className:"w-4 h-4 mr-1"})," Eliminar"]})]})]},e.productId)),(0,a.jsx)("div",{className:"mt-6 text-left",children:(0,a.jsx)(n.default,{href:"/products",className:"text-sm font-medium text-primary hover:text-primary/80 dark:hover:text-primary/70",children:"â† Seguir Comprando"})})]}),(0,a.jsxs)(l.Zb,{className:"lg:col-span-1 p-6 border sticky top-24 shadow-lg",children:[(0,a.jsx)(l.Ol,{className:"p-0 mb-5",children:(0,a.jsx)(l.ll,{className:"text-xl font-semibold text-foreground",children:"Resumen del Pedido"})}),(0,a.jsxs)(l.aY,{className:"p-0 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Items (",d,"):"]}),(0,a.jsx)("span",{className:"text-foreground",children:(0,o.eQ)(c)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:"Env\xedo:"}),(0,a.jsx)("span",{className:"text-foreground",children:"A calcular en el checkout"})]}),(0,a.jsx)("hr",{className:"border-border my-3"}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold text-foreground",children:[(0,a.jsx)("span",{children:"Total Estimado:"}),(0,a.jsx)("span",{className:"text-primary",children:(0,o.eQ)(c)})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Impuestos incluidos. El costo de env\xedo se calcular\xe1 al finalizar la compra."}),(0,a.jsxs)(n.default,{href:"/checkout",className:"mt-6 w-full flex items-center justify-center bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 ease-in-out text-base focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-card",children:[(0,a.jsx)(i.ci,{className:"w-5 h-5 mr-2.5"}),"Proceder al Pago"]})]})]})]})]})};function d(){return(0,a.jsx)(c,{})}},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return l}});var a=r(7437),n=r(2265),s=r(4508);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl bg-card text-card-foreground shadow-sm","border border-border","transition-all duration-200 ease-in-out","hover:shadow-lg dark:hover:shadow-primary/20","hover:border-border dark:hover:border-primary/40","dark:hover:bg-muted/20",r),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-5",r),...n})});o.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-5 pt-0",r),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-5 pt-0",r),...n})});u.displayName="CardFooter"},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},j:function(){return c}});var a=r(7437),n=r(2265);let s=(0,n.createContext)(void 0),i="subred_ecommerce_cart",o={id:"serv-install-001",name:"Servicio de Instalaci\xf3n Profesional",price:5e4},l=e=>{let{children:t}=e,[r,l]=(0,n.useState)(()=>{try{let e=localStorage.getItem(i);return e?JSON.parse(e):[]}catch(e){console.error("Error loading cart from localStorage:",e)}return[]});(0,n.useEffect)(()=>{try{localStorage.setItem(i,JSON.stringify(r))}catch(e){console.error("Error saving cart to localStorage:",e)}},[r]);let c=e=>{l(t=>t.filter(t=>t.productId!==e)),console.log("PRODUCT with ID ".concat(e," removed from cart."))},d=r.reduce((e,t)=>{let r=t.price*t.quantity;return t.installationService&&(r+=t.installationService.price*t.quantity),e+r},0),u=r.reduce((e,t)=>e+t.quantity,0);return(0,a.jsx)(s.Provider,{value:{items:r,addItem:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(a=>{let n=a.findIndex(t=>t.productId===e.id),s=[...a],i=r&&"PRODUCT"===e.productType?{id:o.id,name:o.name,price:o.price}:null;if(n>-1){let e={...s[n],quantity:s[n].quantity+t,installationService:void 0!==i?i:s[n].installationService};s[n]=e}else s.push({productId:e.id,name:e.name,price:e.price,quantity:t,image:e.images&&e.images.length>0?e.images[0]:void 0,installationService:i});return console.log("Cart items after adding ".concat(e.name,":"),s),s})},removeItem:c,updateItemQuantity:(e,t)=>{if(t<=0){c(e);return}l(r=>r.map(r=>r.productId===e?{...r,quantity:t}:r)),console.log("Quantity of PRODUCT with ID ".concat(e," updated to ").concat(t,"."))},clearCart:()=>{l([]),console.log("Carrito limpiado.")},cartTotal:d,itemCount:u},children:t})},c=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},4508:function(e,t,r){"use strict";r.d(t,{LH:function(){return l},cn:function(){return s},eQ:function(){return i},fW:function(){return c},p6:function(){return o}});var a=r(1994),n=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function i(e){let t=Number(e);if(isNaN(t))return"$0";let r=Math.abs(t),a=(r%1).toFixed(2).substring(2),n=Math.trunc(r).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),s="$".concat(n);return"00"!==a&&(s+=",".concat(a)),t<0?"-".concat(s):s}function o(e){try{let t=new Date(e),r=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();return"".concat(r,"/").concat(a,"/").concat(n)}catch(t){return console.error("Invalid date provided to formatDate:",e),"Fecha inv\xe1lida"}}function l(e){if("string"!=typeof e)return NaN;let t=parseFloat(e.replace(/\$\s?|(,*)/g,"").replace(/\./g,"").replace(",","."));return isNaN(t)?0:t}function c(e){if("string"!=typeof e||(e=e.replace(/\./g,"").replace(/-/g,"")).length<2)return!1;let t=e.slice(0,-1),r=e.slice(-1).toUpperCase(),a=0,n=2;for(let e=t.length-1;e>=0;e--)a+=parseInt(t[e],10)*n,++n>7&&(n=2);let s=11-a%11;return(11===s?"0":10===s?"K":s.toString())===r}}},function(e){e.O(0,[6137,7648,8560,2971,2117,1744],function(){return e(e.s=8324)}),_N_E=e.O()}]);