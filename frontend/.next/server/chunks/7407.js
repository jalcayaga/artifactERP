"use strict";exports.id=7407,exports.ids=[7407],exports.modules={7407:(e,s,a)=>{a.d(s,{Z:()=>K});var t=a(326),r=a(7577),l=a(5047),n=a(7394),o=a(2771),i=a(8588),d=a(2643),c=a(4762),m=a(6384),u=a(1048),x=a(772),p=a(5999),f=a(8051),h=a(3095),g=a(2561),j=a(2067),N=a(3405),b=a(2566),y=a(9815),v=a(5226),C="Checkbox",[E,w]=(0,h.b)(C),[k,S]=E(C);function D(e){let{__scopeCheckbox:s,checked:a,children:l,defaultChecked:n,disabled:o,form:i,name:d,onCheckedChange:c,required:m,value:u="on",internal_do_not_use_render:x}=e,[p,f]=(0,j.T)({prop:a,defaultProp:n??!1,onChange:c,caller:C}),[h,g]=r.useState(null),[N,b]=r.useState(null),y=r.useRef(!1),v=!h||!!i||!!h.closest("form"),E={checked:p,disabled:o,setChecked:f,control:h,setControl:g,name:d,form:i,value:u,hasConsumerStoppedPropagationRef:y,required:m,defaultChecked:!L(n)&&n,isFormControl:v,bubbleInput:N,setBubbleInput:b};return(0,t.jsx)(k,{scope:s,...E,children:"function"==typeof x?x(E):l})}var A="CheckboxTrigger",R=r.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:a,...l},n)=>{let{control:o,value:i,disabled:d,checked:c,required:m,setControl:u,setChecked:x,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:j}=S(A,e),N=(0,f.e)(n,u),b=r.useRef(c);return r.useEffect(()=>{let e=o?.form;if(e){let s=()=>x(b.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[o,x]),(0,t.jsx)(v.WV.button,{type:"button",role:"checkbox","aria-checked":L(c)?"mixed":c,"aria-required":m,"data-state":F(c),"data-disabled":d?"":void 0,disabled:d,value:i,...l,ref:N,onKeyDown:(0,g.M)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,g.M)(a,e=>{x(e=>!!L(e)||!e),j&&h&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})})});R.displayName=A;var I=r.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:r,checked:l,defaultChecked:n,required:o,disabled:i,value:d,onCheckedChange:c,form:m,...u}=e;return(0,t.jsx)(D,{__scopeCheckbox:a,checked:l,defaultChecked:n,disabled:i,required:o,onCheckedChange:c,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R,{...u,ref:s,__scopeCheckbox:a}),e&&(0,t.jsx)($,{__scopeCheckbox:a})]})})});I.displayName=C;var P="CheckboxIndicator",z=r.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:r,...l}=e,n=S(P,a);return(0,t.jsx)(y.z,{present:r||L(n.checked)||!0===n.checked,children:(0,t.jsx)(v.WV.span,{"data-state":F(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:s,style:{pointerEvents:"none",...e.style}})})});z.displayName=P;var T="CheckboxBubbleInput",$=r.forwardRef(({__scopeCheckbox:e,...s},a)=>{let{control:l,hasConsumerStoppedPropagationRef:n,checked:o,defaultChecked:i,required:d,disabled:c,name:m,value:u,form:x,bubbleInput:p,setBubbleInput:h}=S(T,e),g=(0,f.e)(a,h),j=(0,N.D)(o),y=(0,b.t)(l);r.useEffect(()=>{if(!p)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!n.current;if(j!==o&&e){let a=new Event("click",{bubbles:s});p.indeterminate=L(o),e.call(p,!L(o)&&o),p.dispatchEvent(a)}},[p,j,o,n]);let C=r.useRef(!L(o)&&o);return(0,t.jsx)(v.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??C.current,required:d,disabled:c,name:m,value:u,form:x,...s,tabIndex:-1,ref:g,style:{...s.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function L(e){return"indeterminate"===e}function F(e){return L(e)?"indeterminate":e?"checked":"unchecked"}$.displayName=T;var _=a(2933),O=a(7863);let V=r.forwardRef(({className:e,...s},a)=>t.jsx(I,{ref:a,className:(0,O.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(z,{className:(0,O.cn)("flex items-center justify-center text-current"),children:t.jsx(_.Z,{className:"h-4 w-4"})})}));V.displayName=I.displayName;var Z=a(2288),G=a(6693);let U={getAllContactPeople:async(e,s=1,a=10)=>(0,G.Z)(`/companies/${e}/contact-people?page=${s}&limit=${a}`),getContactPersonById:async(e,s)=>(0,G.Z)(`/companies/${e}/contact-people/${s}`),createContactPerson:async(e,s)=>(0,G.Z)(`/companies/${e}/contact-people`,{method:"POST",body:JSON.stringify(s)}),updateContactPerson:async(e,s,a)=>(0,G.Z)(`/companies/${e}/contact-people/${s}`,{method:"PATCH",body:JSON.stringify(a)}),async deleteContactPerson(e,s){await (0,G.Z)(`/companies/${e}/contact-people/${s}`,{method:"DELETE"})}},q=({companyId:e,contactPersonData:s,onSave:a,onCancel:l})=>{let[n,o]=(0,r.useState)(""),[i,f]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[v,C]=(0,r.useState)({}),[E,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s?(o(s.firstName),f(s.lastName||""),g(s.email||""),N(s.phone||""),y(s.role||"")):(o(""),f(""),g(""),N(""),y("")),C({})},[s]);let k=()=>{let e={};return n.trim()||(e.firstName="El nombre es requerido."),h.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)&&(e.email="El formato del email no es v\xe1lido."),C(e),0===Object.keys(e).length},S=async t=>{if(t.preventDefault(),!k()){p.Am.error("Por favor, corrija los errores en el formulario.");return}w(!0);try{let t;let r={companyId:e,firstName:n.trim(),lastName:i.trim()||void 0,email:h.trim()||void 0,phone:j.trim()||void 0,role:b.trim()||void 0};t=s?await U.updateContactPerson(e,s.id,r):await U.createContactPerson(e,r),p.Am.success(`Persona de contacto ${t.firstName} guardada exitosamente.`),a(t)}catch(e){console.error("Error saving contact person:",e),p.Am.error(e.message||"Error al guardar la persona de contacto.")}finally{w(!1)}},D="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm text-sm transition-colors duration-150 bg-background border-border placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring text-foreground";return(0,t.jsxs)(d.Zb,{className:"max-w-2xl mx-auto border",children:[t.jsx(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"text-xl flex items-center",children:[t.jsx(c.oy,{className:"w-6 h-6 mr-2 text-primary"}),s?`Editar: ${s.firstName} ${s.lastName||""}`:""]})}),(0,t.jsxs)("form",{onSubmit:S,children:[(0,t.jsxs)(d.aY,{className:"space-y-4 pt-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(u._,{htmlFor:"firstName",children:["Nombre ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(m.I,{type:"text",id:"firstName",value:n,onChange:e=>o(e.target.value),className:D}),v.firstName&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:v.firstName})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"lastName",children:"Apellido"}),t.jsx(m.I,{type:"text",id:"lastName",value:i,onChange:e=>f(e.target.value),className:D})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"email",children:"Email"}),t.jsx(m.I,{type:"email",id:"email",value:h,onChange:e=>g(e.target.value),className:D}),v.email&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:v.email})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"phone",children:"Tel\xe9fono"}),t.jsx(m.I,{type:"tel",id:"phone",value:j,onChange:e=>N(e.target.value),className:D})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"role",children:"Rol"}),t.jsx(m.I,{type:"text",id:"role",value:b,onChange:e=>y(e.target.value),className:D})]})]}),(0,t.jsxs)(d.eW,{className:"flex justify-end space-x-2 pt-6",children:[t.jsx(x.z,{type:"button",variant:"outline",onClick:l,children:"Cancelar"}),t.jsx(x.z,{type:"submit",disabled:E,children:E?"Guardando...":s?"Actualizar":"Guardar"})]})]})]})};var H=a(5940);let M=({companyId:e,isManagementView:s=!1})=>{let{isAuthenticated:a,currentUser:i,isLoading:m}=(0,n.a)(),u=(0,l.useRouter)(),[f,h]=(0,r.useState)([]),[g,j]=(0,r.useState)(!0),[N,b]=(0,r.useState)(null),[y,v]=(0,r.useState)(1),[C,E]=(0,r.useState)(1),[w,k]=(0,r.useState)(0),[S,D]=(0,r.useState)(null),[A,R]=(0,r.useState)(!1),[I,P]=(0,r.useState)(null),[z,T]=(0,r.useState)(!1),$=(0,r.useCallback)(async(s=1)=>{if(!a||i?.role!==o.i4.ADMIN){b("No autorizado para ver esta p\xe1gina o no autenticado."),j(!1),a||u.push("/login");return}j(!0);try{let a=await U.getAllContactPeople(e,s,10);h(a.data),E(a.pages),v(a.page),k(a.total)}catch(e){console.error("Error fetching contact people:",e),e.message&&e.message.includes("Unauthorized")?u.push("/login"):b("Error al cargar las personas de contacto.")}finally{j(!1)}},[a,i,u,e]);(0,r.useEffect)(()=>{!m&&e&&$(y)},[$,y,m,e]);let L=(0,r.useCallback)(()=>{D(null),R(!0)},[]),F=(0,r.useCallback)(e=>{D(e),R(!0)},[]);(0,r.useCallback)(async e=>{R(!1),D(null),$(y)},[$,y]),(0,r.useCallback)(()=>{R(!1),D(null)},[]);let _=(0,r.useCallback)(e=>{P(e),T(!0)},[]);(0,r.useCallback)(async s=>{try{await U.deleteContactPerson(e,s),$(y),P(null),T(!1),p.Am.success("Persona de contacto eliminada exitosamente.")}catch(e){console.error("Error deleting contact person:",e),p.Am.error(e.message||"Error al eliminar la persona de contacto.")}},[e,$,y]),(0,r.useCallback)(()=>{P(null),T(!1)},[]);let O=(0,r.useCallback)(e=>{p.Am.info("Funcionalidad para ver detalles de persona de contacto no implementada a\xfan.")},[]),V=e=>{v(e)};return m?t.jsx("div",{className:"text-center py-8",children:"Cargando autenticaci\xf3n..."}):g?t.jsx("div",{className:"text-center py-8",children:"Cargando personas de contacto..."}):N?t.jsx("div",{className:"text-center py-8 text-destructive",children:N}):a&&i?.role===o.i4.ADMIN?t.jsx(t.Fragment,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[s&&(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-foreground",children:"Gesti\xf3n de Personas de Contacto"}),(0,t.jsxs)(x.z,{className:"w-full sm:w-auto",onClick:L,children:[t.jsx(c.pO,{className:"w-5 h-5 mr-2"}),t.jsx("span",{children:"Nueva Persona de Contacto"})]})]}),t.jsx(d.Zb,{className:"overflow-hidden border",children:t.jsx(d.aY,{className:"p-0",children:f&&f.length>0?t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)(H.iA,{children:[t.jsx(H.xD,{className:"bg-muted/50",children:(0,t.jsxs)(H.SC,{children:[t.jsx(H.ss,{children:"Nombre"}),t.jsx(H.ss,{className:"hidden sm:table-cell",children:"Email"}),t.jsx(H.ss,{className:"hidden md:table-cell",children:"Tel\xe9fono"}),s&&t.jsx(H.ss,{className:"hidden sm:table-cell",children:"Rol"}),s&&t.jsx(H.ss,{className:"text-center",children:"Acciones"})]})}),t.jsx(H.RM,{children:f.map(e=>(0,t.jsxs)(H.SC,{className:"hover:bg-accent transition-colors duration-150",children:[(0,t.jsxs)(H.pj,{children:[(0,t.jsxs)("div",{className:"text-sm font-medium text-foreground",children:[e.firstName," ",e.lastName]}),t.jsx("div",{className:"text-xs text-muted-foreground sm:hidden",children:e.email||e.phone||"-"})]}),t.jsx(H.pj,{className:"hidden sm:table-cell text-sm text-muted-foreground",children:e.email||"-"}),t.jsx(H.pj,{className:"hidden md:table-cell text-sm text-muted-foreground",children:e.phone||"-"}),s&&t.jsx(H.pj,{className:"hidden sm:table-cell text-sm text-muted-foreground",children:e.role||"-"}),s&&t.jsx(H.pj,{className:"text-center text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1 sm:space-x-3",children:[t.jsx(x.z,{variant:"ghost",size:"sm",onClick:()=>O(e),title:"Ver Detalles","aria-label":`Ver detalles de ${e.firstName}`,children:t.jsx(c.tE,{className:"w-5 h-5"})}),t.jsx(x.z,{variant:"ghost",size:"sm",onClick:()=>F(e),title:"Editar Persona de Contacto","aria-label":`Editar persona de contacto ${e.firstName}`,children:t.jsx(c.vd,{className:"w-5 h-5"})}),t.jsx(x.z,{variant:"ghost",size:"sm",onClick:()=>_(e),title:"Eliminar Persona de Contacto","aria-label":`Eliminar persona de contacto ${e.firstName}`,children:t.jsx(c.XH,{className:"w-5 h-5"})})]})})]},e.id))})]})}):(0,t.jsxs)("div",{className:"text-center py-12 px-4",children:[t.jsx(c.Vp,{className:"mx-auto h-16 w-16 text-muted-foreground opacity-40"}),t.jsx("h3",{className:"mt-3 text-xl font-semibold text-foreground",children:"No hay personas de contacto registradas"}),t.jsx("p",{className:"mt-1.5 text-sm text-muted-foreground",children:"Empieza a\xf1adiendo tu primera persona de contacto."}),s&&t.jsx("div",{className:"mt-6",children:(0,t.jsxs)(x.z,{type:"button",onClick:L,children:[t.jsx(c.pO,{className:"w-5 h-5 mr-2"}),t.jsx("span",{children:"A\xf1adir Primera Persona de Contacto"})]})})]})})}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[t.jsx("div",{children:t.jsx("p",{className:"text-sm text-muted-foreground",children:`P\xe1gina ${y} de ${C} (Total: ${w} personas de contacto)`})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>V(y-1),disabled:y<=1,children:"Anterior"}),t.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>V(y+1),disabled:y>=C,children:"Siguiente"})]})]})]})}):t.jsx("div",{className:"text-center py-8 text-destructive",children:"Acceso denegado. No tienes permisos de administrador."})},B=({companyId:e,onClose:s})=>{let[a,l]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[i,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(!1),[u,f]=(0,r.useState)(null),h=async()=>{o(!0),d(null);try{let s=await U.getAllContactPeople(e);l(s.data)}catch(e){d(e.message||"Error al cargar las personas de contacto."),p.Am.error(e.message||"Error al cargar las personas de contacto.")}finally{o(!1)}};return((0,r.useEffect)(()=>{h()},[e]),n)?t.jsx("div",{children:"Cargando personas de contacto..."}):i?(0,t.jsxs)("div",{children:["Error: ",i]}):t.jsx(Z.Vq,{open:!0,onOpenChange:s,children:(0,t.jsxs)(Z.cZ,{className:"overflow-y-auto max-h-[90vh]",children:[(0,t.jsxs)(Z.fK,{children:[t.jsx(Z.$N,{children:"Gesti\xf3n de Personas de Contacto"}),t.jsx(Z.Be,{children:"Aqu\xed puedes gestionar las personas de contacto asociadas a esta empresa."})]}),c?t.jsx(q,{companyId:e,contactPersonData:u,onSave:()=>{m(!1),h()},onCancel:()=>m(!1)}):t.jsx(M,{companyId:e,isManagementView:!0}),t.jsx(Z.cN,{children:!c&&t.jsx(x.z,{variant:"outline",onClick:s,children:"Cerrar"})})]})})},J=({companyData:e,onSave:s,onCancel:a})=>{let{token:l,currentUser:o}=(0,n.a)(),[f,h]=(0,r.useState)(""),[g,j]=(0,r.useState)(!0),[N,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[C,E]=(0,r.useState)(""),[w,k]=(0,r.useState)(""),[S,D]=(0,r.useState)(""),[A,R]=(0,r.useState)(""),[I,P]=(0,r.useState)(""),[z,T]=(0,r.useState)(""),[$,L]=(0,r.useState)(""),[F,_]=(0,r.useState)({}),[G,U]=(0,r.useState)(!1),[q,H]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e?(h(e.fantasyName||""),E(e.name),v(e.rut||""),P(e.giro||""),k(e.address||""),D(e.city||""),R(e.state||""),L(e.zip||""),T(e.phone||""),j(e.isClient),b(e.isSupplier)):(h(""),E(""),v(""),P(""),k(""),D(""),R(""),L(""),T(""),j(!0),b(!1)),_({})},[e,l]);let M=e=>{let s=e.replace(/[^0-9kK]/g,""),a="";if(s.length>1){let e=s.slice(0,-1),t=s.slice(-1);a=e.replace(/\B(?=(\d{3})+(?!\d))/g,".")+"-"+t}else a=s;return a},J=()=>{let e={};return f.trim()||(e.fantasyName="El nombre de fantas\xeda es requerido."),C.trim()||(e.razonSocial="La raz\xf3n social es requerida."),y.trim()?(0,O.fW)(y)||(e.rut="El formato del RUT no es v\xe1lido."):e.rut="El RUT es requerido.",I.trim()||(e.giro="El giro es requerido."),w.trim()||(e.address="La direcci\xf3n es requerida."),S.trim()||(e.comuna="La comuna es requerido."),A.trim()||(e.ciudad="La ciudad es requerida."),g||N||(e.roles="Debe seleccionar al menos un rol (Cliente o Proveedor)."),_(e),0===Object.keys(e).length},Y=async a=>{if(a.preventDefault(),!J()){p.Am.error("Por favor, corrija los errores en el formulario.");return}if(!o?.id){p.Am.error("No se pudo determinar el usuario actual.");return}U(!0);try{let a;let t={name:C.trim(),fantasyName:f.trim(),rut:y.trim()||void 0,giro:I.trim()||void 0,address:w.trim()||void 0,city:S.trim()||void 0,state:A.trim()||void 0,zip:$.trim()||void 0,phone:z.trim()||void 0,isClient:g,isSupplier:N};a=e?await i.J.updateCompany(e.id,t):await i.J.createCompany({...t,userId:o.id}),p.Am.success(`Empresa ${a.name} guardada exitosamente.`),s(a)}catch(e){console.error("Error saving company:",e),e.response&&409===e.response.status?p.Am.error(e.response.data.message||"Ya existe una empresa con el mismo RUT o email."):p.Am.error(e.message||"Error al guardar la empresa.")}finally{U(!1)}},W="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm text-sm transition-colors duration-150 bg-background border-border placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring text-foreground";return(0,t.jsxs)(d.Zb,{className:"max-w-4xl mx-auto border",children:[t.jsx(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"text-xl flex items-center",children:[t.jsx(c.Vp,{className:"w-6 h-6 mr-2 text-primary"}),e?`Editar: ${e.fantasyName||e.name}`:"Crear Cliente o Proveedor"]})}),(0,t.jsxs)("form",{onSubmit:Y,children:[(0,t.jsxs)(d.aY,{className:"space-y-6 pt-6",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(u._,{htmlFor:"fantasy-name",children:["Nombre de fantas\xeda ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(m.I,{type:"text",id:"fantasy-name",value:f,onChange:e=>h(e.target.value),className:W}),F.fantasyName&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:F.fantasyName}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Si no existe el nombre de fantas\xeda puede usar alg\xfan nombre representativo."})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(V,{id:"is-client",checked:g,onCheckedChange:e=>j(!!e)}),t.jsx(u._,{htmlFor:"is-client",className:"ml-2 text-sm font-medium text-foreground",children:"Es Cliente"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(V,{id:"is-supplier",checked:N,onCheckedChange:e=>b(!!e)}),t.jsx(u._,{htmlFor:"is-supplier",className:"ml-2 text-sm font-medium text-foreground",children:"Es Proveedor"})]}),F.roles&&t.jsx("p",{className:"text-xs text-destructive",children:F.roles})]})]}),e&&t.jsx("div",{className:"mt-6",children:(0,t.jsxs)(x.z,{type:"button",variant:"outline",onClick:()=>H(!0),children:[t.jsx(c.oy,{className:"w-4 h-4 mr-2"})," Gestionar Contactos"]})})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-md",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Datos de facturaci\xf3n"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Si existen m\xe1s datos de facturaci\xf3n, puede ingresarlos luego de crear al cliente/proveedor, en la pantalla Modificar."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[t.jsx(u._,{children:"Pa\xeds"}),t.jsx(m.I,{type:"text",value:"CHILE",disabled:!0,className:`${W} bg-muted/50`})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(u._,{htmlFor:"company-rut",children:["RUT Cliente/Proveedor ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(m.I,{type:"text",id:"company-rut",value:y,onChange:e=>{let{value:s}=e.target;v(M(s))},className:W,placeholder:"Ej: 12.345.678-9"}),F.rut&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:F.rut})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(u._,{htmlFor:"company-name",children:["Nombre o Raz\xf3n Social ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(m.I,{type:"text",id:"company-name",value:C,onChange:e=>E(e.target.value),className:W}),F.razonSocial&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:F.razonSocial})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)(u._,{htmlFor:"company-address",children:["Direcci\xf3n ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(m.I,{type:"text",id:"company-address",value:w,onChange:e=>k(e.target.value),className:W}),F.address&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:F.address})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(u._,{htmlFor:"company-comuna",children:["Comuna ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(m.I,{type:"text",id:"company-comuna",value:S,onChange:e=>D(e.target.value),className:W}),F.comuna&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:F.comuna})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(u._,{htmlFor:"company-ciudad",children:["Ciudad ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(m.I,{type:"text",id:"company-ciudad",value:A,onChange:e=>R(e.target.value),className:W}),F.ciudad&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:F.ciudad})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(u._,{htmlFor:"company-giro",children:["Giro ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(m.I,{type:"text",id:"company-giro",value:I,onChange:e=>P(e.target.value),className:W}),F.giro&&t.jsx("p",{className:"text-xs text-destructive mt-1",children:F.giro})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"billing-phone",children:"Tel\xe9fono"}),t.jsx(m.I,{type:"tel",id:"billing-phone",value:z,onChange:e=>T(e.target.value),className:W})]}),(0,t.jsxs)("div",{children:[t.jsx(u._,{htmlFor:"company-zip",children:"C\xf3digo postal"}),t.jsx(m.I,{type:"text",id:"company-zip",value:$,onChange:e=>L(e.target.value),className:W})]})]}),e&&t.jsx("div",{className:"mt-6",children:(0,t.jsxs)(x.z,{type:"button",variant:"outline",onClick:()=>H(!0),children:[t.jsx(c.oy,{className:"w-4 h-4 mr-2"})," Gestionar Contactos"]})})]})]}),(0,t.jsxs)(d.eW,{className:"flex flex-col sm:flex-row justify-end items-center gap-3 pt-6",children:[t.jsx(x.z,{type:"button",variant:"outline",onClick:a,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancelar"}),t.jsx(x.z,{type:"submit",className:"w-full sm:w-auto order-1 sm:order-2",disabled:G,children:G?"Guardando...":e?"Actualizar":"Guardar"})]})]}),e&&t.jsx(Z.Vq,{open:q,onOpenChange:H,children:t.jsx(Z.cZ,{className:"sm:max-w-[800px]",children:t.jsx(B,{companyId:e.id,onClose:()=>H(!1)})})})]})},Y=({label:e,value:s,icon:a})=>s||"object"==typeof s||"boolean"==typeof s||"number"==typeof s?(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start py-2",children:[(0,t.jsxs)("dt",{className:"w-full sm:w-1/3 text-sm font-medium text-muted-foreground flex items-center",children:[a&&t.jsx(a,{className:"w-4 h-4 mr-2 opacity-70"}),e]}),t.jsx("dd",{className:"w-full sm:w-2/3 mt-1 sm:mt-0 text-sm text-foreground",children:s||t.jsx("span",{className:"italic text-muted-foreground",children:"N/A"})})]}):null,W=({company:e,onClose:s})=>((0,r.useEffect)(()=>{if(!e)return;let a=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,s]),e)?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 dark:bg-black/75 p-4 transition-opacity duration-300 ease-in-out",onClick:s,role:"dialog","aria-modal":"true","aria-labelledby":"company-detail-modal-title",children:(0,t.jsxs)("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] flex flex-col overflow-hidden border border-border",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-border",children:[(0,t.jsxs)("h2",{id:"company-detail-modal-title",className:"text-lg sm:text-xl font-semibold text-foreground flex items-center",children:[t.jsx(c.Vp,{className:"w-6 h-6 mr-2 text-primary"}),e.name]}),t.jsx("button",{onClick:s,className:"p-1.5 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors","aria-label":"Cerrar modal",children:t.jsx(c.b0,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-4 sm:p-5 space-y-1 overflow-y-auto",children:[(0,t.jsxs)("dl",{className:"divide-y divide-border/50",children:[e.rut&&t.jsx(Y,{label:"RUT",value:e.rut}),e.giro&&t.jsx(Y,{label:"Giro",value:e.giro}),e.address&&t.jsx(Y,{label:"Direcci\xf3n",value:`${e.address}${e.city?`, ${e.city}`:""}${e.state?`, ${e.state}`:""}${e.zip?` ${e.zip}`:""}`}),e.phone&&t.jsx(Y,{label:"Tel\xe9fono",value:e.phone}),e.email&&t.jsx(Y,{label:"Email",value:e.email}),t.jsx(Y,{label:"Roles",value:(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.isClient&&t.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Cliente"}),e.isSupplier&&t.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Proveedor"})]})})]}),t.jsx("div",{className:"pt-4 mt-4 border-t border-border/50",children:t.jsx(M,{companyId:e.id,isManagementView:!1})})]}),t.jsx("div",{className:"px-4 py-3 sm:px-5 bg-muted/50 border-t border-border flex justify-end",children:t.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-border text-sm font-medium rounded-md text-foreground bg-background hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring dark:focus:ring-offset-card transition-colors",children:"Cerrar"})})]})}):null;var X=a(6340);let K=({show:e})=>{let{isAuthenticated:s,currentUser:a,isLoading:m}=(0,n.a)(),u=(0,l.useRouter)(),[p,f]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[j,N]=(0,r.useState)(null),[b,y]=(0,r.useState)(!1),[v,C]=(0,r.useState)(null),[E,w]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),[D,A]=(0,r.useState)(null),[R,I]=(0,r.useState)(1),[P,z]=(0,r.useState)(1),[T,$]=(0,r.useState)(0),L=(0,r.useCallback)(async(t=1)=>{if(!s||a?.role!==o.i4.ADMIN){N("No autorizado para ver esta p\xe1gina o no autenticado."),g(!1),s||u.push("/login");return}g(!0);try{let s=await i.J.getAllCompanies(t,10,{isClient:"clients"===e,isSupplier:"suppliers"===e});f(s.data),z(s.pages),I(s.page),$(s.total)}catch(e){console.error("Error fetching companies:",e),e.message&&e.message.includes("Unauthorized")?u.push("/login"):N("Error al cargar las empresas.")}finally{g(!1)}},[s,a,u,e]);(0,r.useEffect)(()=>{m||L(R)},[L,R,m]);let F=(0,r.useCallback)(()=>{C(null),y(!0)},[]),_=(0,r.useCallback)(e=>{C(e),y(!0)},[]),O=(0,r.useCallback)(e=>{A(e),S(!0)},[]),V=(0,r.useCallback)(async()=>{if(D)try{await i.J.deleteCompany(D.id),L(R),A(null),S(!1)}catch(e){console.error("Error deleting company:",e),e.message&&e.message.includes("Unauthorized")?u.push("/login"):N("Error al eliminar la empresa.")}},[D,L,R,u]),Z=(0,r.useCallback)(()=>{A(null),S(!1)},[]),G=(0,r.useCallback)(e=>{w(e)},[]),U=(0,r.useCallback)(()=>{w(null)},[]),q=(0,r.useCallback)(async e=>{try{v?await i.J.updateCompany(v.id,e):await i.J.createCompany(e),y(!1),C(null),L(R)}catch(e){console.error("Error saving company:",e),e.message&&e.message.includes("Unauthorized")?u.push("/login"):N("Error al guardar la empresa.")}},[v,L,R,u]),M=(0,r.useCallback)(()=>{y(!1),C(null)},[]),B=e=>{I(e)};if(m)return t.jsx("div",{className:"text-center py-8",children:"Cargando autenticaci\xf3n..."});if(h)return t.jsx("div",{className:"text-center py-8",children:"Cargando..."});if(j)return t.jsx("div",{className:"text-center py-8 text-destructive",children:j});if(!s||a?.role!==o.i4.ADMIN)return t.jsx("div",{className:"text-center py-8 text-destructive",children:"Acceso denegado. No tienes permisos de administrador."});if(b)return t.jsx(J,{companyData:v,onSave:q,onCancel:M});let Y="clients"===e||"suppliers"===e?"Clientes/Proveedores":"Empresas",K="Cliente/Proveedor";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-foreground",children:`Gesti\xf3n de ${Y}`}),(0,t.jsxs)(x.z,{className:"w-full sm:w-auto",onClick:F,children:[t.jsx(c.pO,{className:"w-5 h-5 mr-2"}),t.jsx("span",{children:`Nueva ${K}`})]})]}),t.jsx(d.Zb,{className:"overflow-hidden border",children:t.jsx(d.aY,{className:"p-0",children:p&&p.length>0?t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)(H.iA,{children:[t.jsx(H.xD,{className:"bg-muted/50",children:(0,t.jsxs)(H.SC,{children:[t.jsx(H.ss,{children:"Nombre"}),t.jsx(H.ss,{className:"hidden sm:table-cell",children:"Email"}),t.jsx(H.ss,{className:"hidden md:table-cell",children:"Tel\xe9fono"}),t.jsx(H.ss,{className:"hidden sm:table-cell",children:"Roles"}),t.jsx(H.ss,{className:"text-center",children:"Acciones"})]})}),t.jsx(H.RM,{children:p.map(e=>(0,t.jsxs)(H.SC,{className:"hover:bg-accent transition-colors duration-150",children:[(0,t.jsxs)(H.pj,{children:[t.jsx("div",{className:"text-sm font-medium text-foreground",children:e.name}),t.jsx("div",{className:"text-xs text-muted-foreground sm:hidden",children:e.email||e.phone||"-"})]}),t.jsx(H.pj,{className:"hidden sm:table-cell text-sm text-muted-foreground",children:e.email||"-"}),t.jsx(H.pj,{className:"hidden md:table-cell text-sm text-muted-foreground",children:e.phone||"-"}),t.jsx(H.pj,{className:"hidden sm:table-cell text-sm text-muted-foreground",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.isClient&&t.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Cliente"}),e.isSupplier&&t.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Proveedor"})]})}),t.jsx(H.pj,{className:"text-center text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1 sm:space-x-3",children:[t.jsx(x.z,{variant:"ghost",size:"sm",onClick:()=>G(e),title:"Ver Detalles","aria-label":`Ver detalles de ${e.name}`,children:t.jsx(c.tE,{className:"w-5 h-5"})}),t.jsx(x.z,{variant:"ghost",size:"sm",onClick:()=>_(e),title:"Editar Empresa","aria-label":`Editar empresa ${e.name}`,children:t.jsx(c.vd,{className:"w-5 h-5"})}),t.jsx(x.z,{variant:"ghost",size:"sm",onClick:()=>O(e),title:"Eliminar Empresa","aria-label":`Eliminar empresa ${e.name}`,children:t.jsx(c.XH,{className:"w-5 h-5"})})]})})]},e.id))})]})}):(0,t.jsxs)("div",{className:"text-center py-12 px-4",children:[t.jsx(c.Vp,{className:"mx-auto h-16 w-16 text-muted-foreground opacity-40"}),t.jsx("h3",{className:"mt-3 text-xl font-semibold text-foreground",children:`No hay ${Y.toLowerCase()} registradas`}),t.jsx("p",{className:"mt-1.5 text-sm text-muted-foreground",children:`Empieza a\xf1adiendo tu primer ${K}.`}),t.jsx("div",{className:"mt-6",children:(0,t.jsxs)(x.z,{type:"button",onClick:F,children:[t.jsx(c.pO,{className:"w-5 h-5 mr-2"}),t.jsx("span",{children:`A\xf1adir Primer ${K}`})]})})]})})}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[t.jsx("div",{children:t.jsx("p",{className:"text-sm text-muted-foreground",children:`P\xe1gina ${R} de ${P} (Total: ${T} ${Y.toLowerCase()})`})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>B(R-1),disabled:R<=1,children:"Anterior"}),t.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>B(R+1),disabled:R>=P,children:"Siguiente"})]})]})]}),E&&t.jsx(W,{company:E,onClose:U}),k&&D&&t.jsx(X.Z,{isOpen:k,onClose:Z,onConfirm:V,title:"Confirmar Eliminaci\xf3n",message:(0,t.jsxs)(t.Fragment,{children:["\xbfEst\xe1s seguro de que quieres eliminar la empresa ",t.jsx("strong",{children:D.name}),"? Esta acci\xf3n no se puede deshacer."]}),confirmText:"Eliminar",confirmButtonClass:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",icon:t.jsx(c.XH,{className:"w-5 h-5 mr-2"})})]})}},6340:(e,s,a)=>{a.d(s,{Z:()=>n});var t=a(326),r=a(7577),l=a(4762);let n=({isOpen:e,onClose:s,onConfirm:a,title:n,message:o,confirmText:i="Confirmar",cancelText:d="Cancelar",confirmButtonClass:c="bg-primary hover:bg-primary/90 text-primary-foreground",icon:m})=>((0,r.useEffect)(()=>{if(!e)return;let a=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,s]),e)?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 dark:bg-black/75 p-4 transition-opacity duration-300 ease-in-out",onClick:s,role:"alertdialog","aria-modal":"true","aria-labelledby":"confirmation-modal-title","aria-describedby":"confirmation-modal-message",children:(0,t.jsxs)("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md flex flex-col overflow-hidden border border-border",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-border",children:[(0,t.jsxs)("h2",{id:"confirmation-modal-title",className:"text-lg sm:text-xl font-semibold text-foreground flex items-center",children:[m&&t.jsx("span",{className:"mr-2",children:m})," ",n," "]}),(0,t.jsxs)("button",{onClick:s,className:"p-1.5 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors","aria-label":"Cerrar modal",children:[t.jsx(l.b0,{className:"w-5 h-5"})," "]})]}),t.jsx("div",{className:"p-4 sm:p-5",children:(0,t.jsxs)("p",{id:"confirmation-modal-message",className:"text-sm text-foreground",children:[o," "]})}),(0,t.jsxs)("div",{className:"px-4 py-3 sm:p-5 bg-muted/50 border-t border-border flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-2 sm:space-y-0 space-y-reverse",children:[(0,t.jsxs)("button",{type:"button",onClick:s,className:"w-full sm:w-auto justify-center px-4 py-2.5 border border-border text-sm font-medium rounded-md text-foreground bg-background hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-ring dark:focus:ring-offset-card transition-colors duration-150",children:[d," "]}),(0,t.jsxs)("button",{type:"button",onClick:a,className:`w-full sm:w-auto justify-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-card transition-colors duration-150 ${c} focus:ring-current`,children:[i," "]})]})]})}):null},772:(e,s,a)=>{a.d(s,{z:()=>c});var t=a(326),r=a(7577),l=a.n(r),n=a(4214),o=a(9360),i=a(7863);let d=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",outline:"border border-primary-500 text-primary-500 hover:bg-primary-50",ghost:"hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8"}},defaultVariants:{variant:"default",size:"default"}}),c=l().forwardRef(({className:e,variant:s,size:a,asChild:r=!1,...l},o)=>{let c=r?n.g7:"button";return t.jsx(c,{className:(0,i.cn)(d({variant:s,size:a,className:e})),ref:o,...l})});c.displayName="Button"},2288:(e,s,a)=>{a.d(s,{$N:()=>f,Be:()=>h,Vq:()=>i,cN:()=>p,cZ:()=>u,fK:()=>x,hg:()=>d});var t=a(326),r=a(7577),l=a(8958),n=a(4019),o=a(7863);let i=l.fC,d=l.xz,c=l.h_;l.x8;let m=r.forwardRef(({className:e,...s},a)=>t.jsx(l.aV,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=l.aV.displayName;let u=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(c,{children:[t.jsx(m,{}),(0,t.jsxs)(l.VY,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,t.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(n.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=l.VY.displayName;let x=({className:e,...s})=>t.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});x.displayName="DialogHeader";let p=({className:e,...s})=>t.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});p.displayName="DialogFooter";let f=r.forwardRef(({className:e,...s},a)=>t.jsx(l.Dx,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));f.displayName=l.Dx.displayName;let h=r.forwardRef(({className:e,...s},a)=>t.jsx(l.dk,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...s}));h.displayName=l.dk.displayName},6384:(e,s,a)=>{a.d(s,{I:()=>n});var t=a(326),r=a(7577),l=a(7863);let n=r.forwardRef(({className:e,type:s,...a},r)=>t.jsx("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));n.displayName="Input"},1048:(e,s,a)=>{a.d(s,{_:()=>d});var t=a(326),r=a(7577),l=a(4478),n=a(9360),o=a(7863);let i=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...s},a)=>t.jsx(l.f,{ref:a,className:(0,o.cn)(i(),e),...s}));d.displayName=l.f.displayName},5940:(e,s,a)=>{a.d(s,{RM:()=>i,SC:()=>d,iA:()=>n,pj:()=>m,ss:()=>c,xD:()=>o});var t=a(326),r=a(7577),l=a(7863);let n=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...s})}));n.displayName="Table";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...s}));o.displayName="TableHeader";let i=r.forwardRef(({className:e,...s},a)=>t.jsx("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...s}));i.displayName="TableBody",r.forwardRef(({className:e,...s},a)=>t.jsx("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:hidden",e),...s})).displayName="TableFooter";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));d.displayName="TableRow";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));c.displayName="TableHead";let m=r.forwardRef(({className:e,...s},a)=>t.jsx("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableCell",r.forwardRef(({className:e,...s},a)=>t.jsx("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},6824:(e,s,a)=>{a.d(s,{h:()=>l});var t=a(4099);let r=()=>localStorage.getItem("wolfflow_token"),l=t.Z.create({baseURL:"http://localhost:3001",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let s=r();return console.log("Auth Token being sent:",s),s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e))},6693:(e,s,a)=>{a.d(s,{Z:()=>r});var t=a(6824);let r=async function(e,s){try{let a={};return s?.headers&&(s.headers instanceof Headers?s.headers.forEach((e,s)=>{a[s]=e}):Array.isArray(s.headers)?s.headers.forEach(([e,s])=>{a[e]=s}):Object.assign(a,s.headers)),(await (0,t.h)(e,{method:s?.method||"GET",data:s?.body,headers:a})).data}catch(e){if(e.response)throw Error(e.response.data.message||e.response.statusText);if(e.request)throw Error("No response received from server.");throw Error(e.message)}}},8588:(e,s,a)=>{a.d(s,{J:()=>r});var t=a(6693);let r={async getAllCompanies(e=1,s=10,a={}){let r=new URLSearchParams({page:e.toString(),limit:s.toString()});return a.isClient&&r.append("isClient","true"),a.isSupplier&&r.append("isSupplier","true"),(0,t.Z)(`/companies?${r.toString()}`)},getCompanyById:async e=>(0,t.Z)(`/companies/${e}`),createCompany:async e=>await (0,t.Z)("/companies",{method:"POST",body:JSON.stringify(e)}),updateCompany:async(e,s)=>await (0,t.Z)(`/companies/${e}`,{method:"PATCH",body:JSON.stringify(s)}),async deleteCompany(e){await (0,t.Z)(`/companies/${e}`,{method:"DELETE"})}}},2771:(e,s,a)=>{var t,r,l,n,o,i;a.d(s,{UY:()=>o,XL:()=>l,bG:()=>r,gS:()=>n,i4:()=>i,iF:()=>t}),a(7577),function(e){e.PENDING_PAYMENT="PENDING_PAYMENT",e.PROCESSING="PROCESSING",e.SHIPPED="SHIPPED",e.DELIVERED="DELIVERED",e.CANCELLED="CANCELLED",e.REFUNDED="REFUNDED"}(t||(t={})),function(e){e.PENDING="PENDING",e.PAID="PAID",e.FAILED="FAILED",e.REFUNDED="REFUNDED"}(r||(r={})),function(e){e.CASH="CASH",e.DEBIT_CARD="DEBIT_CARD",e.CREDIT_CARD="CREDIT_CARD",e.BANK_TRANSFER="BANK_TRANSFER",e.OTHER="OTHER"}(l||(l={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.ACCEPTED="ACCEPTED",e.REJECTED="REJECTED",e.EXPIRED="EXPIRED",e.INVOICED="INVOICED"}(n||(n={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.PAID="PAID",e.PARTIALLY_PAID="PARTIALLY_PAID",e.OVERDUE="OVERDUE",e.VOID="VOID",e.CANCELLED="CANCELLED"}(o||(o={})),function(e){e.ADMIN="ADMIN",e.EDITOR="EDITOR",e.VIEWER="VIEWER",e.CLIENT="CLIENT"}(i||(i={}))}};