"use strict";exports.id=5910,exports.ids=[5910],exports.modules={3794:(e,a,t)=>{t.d(a,{Z:()=>p});var s=t(326),r=t(7577),o=t(2771),d=t(772),l=t(6384),i=t(1048),n=t(4474),c=t(2643),f=t(5594),m=t(5999);let p=({invoice:e,onSave:a,onCancel:t})=>{let[p,u]=(0,r.useState)(0),[x,g]=(0,r.useState)(o.XL.CASH),[h,N]=(0,r.useState)(!1),y=async t=>{t.preventDefault(),N(!0);let s={invoiceId:e.id,amount:p,paymentMethod:x};try{await f.t.createPayment(s),m.Am.success("Pago registrado exitosamente"),a()}catch(e){m.Am.error(e.message||"Error al registrar el pago")}finally{N(!1)}};return(0,s.jsxs)(c.Zb,{children:[s.jsx(c.Ol,{children:(0,s.jsxs)(c.ll,{children:["Registrar Pago para Factura ",e.invoiceNumber]})}),(0,s.jsxs)("form",{onSubmit:y,children:[(0,s.jsxs)(c.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx(i._,{htmlFor:"amount",children:"Monto"}),s.jsx(l.I,{id:"amount",type:"number",value:p,onChange:e=>u(Number(e.target.value)),required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx(i._,{htmlFor:"paymentMethod",children:"M\xe9todo de Pago"}),(0,s.jsxs)(n.Ph,{onValueChange:e=>g(e),defaultValue:x,children:[s.jsx(n.i4,{children:s.jsx(n.ki,{placeholder:"Seleccione un m\xe9todo de pago"})}),s.jsx(n.Bw,{children:Object.values(o.XL).map(e=>s.jsx(n.Ql,{value:e,children:e},e))})]})]})]}),(0,s.jsxs)(c.eW,{className:"flex justify-end space-x-2",children:[s.jsx(d.z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),s.jsx(d.z,{type:"submit",disabled:h,children:h?"Guardando...":"Guardar Pago"})]})]})]})}},772:(e,a,t)=>{t.d(a,{z:()=>c});var s=t(326),r=t(7577),o=t.n(r),d=t(4214),l=t(9360),i=t(7863);let n=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",outline:"border border-primary-500 text-primary-500 hover:bg-primary-50",ghost:"hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8"}},defaultVariants:{variant:"default",size:"default"}}),c=o().forwardRef(({className:e,variant:a,size:t,asChild:r=!1,...o},l)=>{let c=r?d.g7:"button";return s.jsx(c,{className:(0,i.cn)(n({variant:a,size:t,className:e})),ref:l,...o})});c.displayName="Button"},2288:(e,a,t)=>{t.d(a,{$N:()=>x,Be:()=>g,Vq:()=>i,cN:()=>u,cZ:()=>m,fK:()=>p,hg:()=>n});var s=t(326),r=t(7577),o=t(8958),d=t(4019),l=t(7863);let i=o.fC,n=o.xz,c=o.h_;o.x8;let f=r.forwardRef(({className:e,...a},t)=>s.jsx(o.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));f.displayName=o.aV.displayName;let m=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(c,{children:[s.jsx(f,{}),(0,s.jsxs)(o.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(d.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=o.VY.displayName;let p=({className:e,...a})=>s.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});p.displayName="DialogHeader";let u=({className:e,...a})=>s.jsx("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});u.displayName="DialogFooter";let x=r.forwardRef(({className:e,...a},t)=>s.jsx(o.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));x.displayName=o.Dx.displayName;let g=r.forwardRef(({className:e,...a},t)=>s.jsx(o.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));g.displayName=o.dk.displayName},6384:(e,a,t)=>{t.d(a,{I:()=>d});var s=t(326),r=t(7577),o=t(7863);let d=r.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));d.displayName="Input"},1048:(e,a,t)=>{t.d(a,{_:()=>n});var s=t(326),r=t(7577),o=t(4478),d=t(9360),l=t(7863);let i=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=r.forwardRef(({className:e,...a},t)=>s.jsx(o.f,{ref:t,className:(0,l.cn)(i(),e),...a}));n.displayName=o.f.displayName},4474:(e,a,t)=>{t.d(a,{Bw:()=>m,Ph:()=>n,Ql:()=>p,i4:()=>f,ki:()=>c});var s=t(326),r=t(7577),o=t(7185),d=t(8393),l=t(2933),i=t(7863);let n=o.fC;o.ZA;let c=o.B4,f=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(o.xz,{ref:r,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,s.jsx(o.JO,{asChild:!0,children:s.jsx(d.Z,{className:"h-4 w-4 opacity-50"})})]}));f.displayName=o.xz.displayName;let m=r.forwardRef(({className:e,children:a,position:t="popper",...r},d)=>s.jsx(o.h_,{children:s.jsx(o.VY,{ref:d,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:s.jsx(o.l_,{className:(0,i.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a})})}));m.displayName=o.VY.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(o.__,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=o.__.displayName;let p=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(o.ck,{ref:r,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(o.wU,{children:s.jsx(l.Z,{className:"h-4 w-4"})})}),s.jsx(o.eT,{children:a})]}));p.displayName=o.ck.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(o.Z0,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=o.Z0.displayName},5940:(e,a,t)=>{t.d(a,{RM:()=>i,SC:()=>n,iA:()=>d,pj:()=>f,ss:()=>c,xD:()=>l});var s=t(326),r=t(7577),o=t(7863);let d=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",e),...a})}));d.displayName="Table";let l=r.forwardRef(({className:e,...a},t)=>s.jsx("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b",e),...a}));l.displayName="TableHeader";let i=r.forwardRef(({className:e,...a},t)=>s.jsx("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",e),...a}));i.displayName="TableBody",r.forwardRef(({className:e,...a},t)=>s.jsx("tfoot",{ref:t,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:hidden",e),...a})).displayName="TableFooter";let n=r.forwardRef(({className:e,...a},t)=>s.jsx("tr",{ref:t,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));n.displayName="TableRow";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("th",{ref:t,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));c.displayName="TableHead";let f=r.forwardRef(({className:e,...a},t)=>s.jsx("td",{ref:t,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));f.displayName="TableCell",r.forwardRef(({className:e,...a},t)=>s.jsx("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},6824:(e,a,t)=>{t.d(a,{h:()=>o});var s=t(4099);let r=()=>localStorage.getItem("wolfflow_token"),o=s.Z.create({baseURL:"http://localhost:3001",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let a=r();return console.log("Auth Token being sent:",a),a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e))},6693:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6824);let r=async function(e,a){try{let t={};return a?.headers&&(a.headers instanceof Headers?a.headers.forEach((e,a)=>{t[a]=e}):Array.isArray(a.headers)?a.headers.forEach(([e,a])=>{t[e]=a}):Object.assign(t,a.headers)),(await (0,s.h)(e,{method:a?.method||"GET",data:a?.body,headers:t})).data}catch(e){if(e.response)throw Error(e.response.data.message||e.response.statusText);if(e.request)throw Error("No response received from server.");throw Error(e.message)}}},4269:(e,a,t)=>{t.d(a,{q:()=>r});var s=t(6693);let r={createInvoiceFromOrder:async e=>(0,s.Z)("/invoices",{method:"POST",body:JSON.stringify({orderId:e})}),async getAllInvoices(e=1,a=10,t){let r=new URLSearchParams({page:e.toString(),limit:a.toString()});t&&r.append("status",t);let o=await (0,s.Z)(`/invoices?${r.toString()}`);return{data:o.data,total:o.total,page:o.currentPage,limit:a,pages:o.pages}},getInvoiceById:async e=>(0,s.Z)(`/invoices/${e}`),getInvoicePdf:async e=>(0,s.Z)(`/invoices/${e}/pdf`)}},5594:(e,a,t)=>{t.d(a,{t:()=>r});var s=t(6693);let r={createPayment:async e=>(0,s.Z)("/payments",{method:"POST",body:JSON.stringify(e)}),getPaymentsByInvoice:async e=>(0,s.Z)(`/payments?invoiceId=${e}`)}},2771:(e,a,t)=>{var s,r,o,d,l,i;t.d(a,{UY:()=>l,XL:()=>o,bG:()=>r,gS:()=>d,i4:()=>i,iF:()=>s}),t(7577),function(e){e.PENDING_PAYMENT="PENDING_PAYMENT",e.PROCESSING="PROCESSING",e.SHIPPED="SHIPPED",e.DELIVERED="DELIVERED",e.CANCELLED="CANCELLED",e.REFUNDED="REFUNDED"}(s||(s={})),function(e){e.PENDING="PENDING",e.PAID="PAID",e.FAILED="FAILED",e.REFUNDED="REFUNDED"}(r||(r={})),function(e){e.CASH="CASH",e.DEBIT_CARD="DEBIT_CARD",e.CREDIT_CARD="CREDIT_CARD",e.BANK_TRANSFER="BANK_TRANSFER",e.OTHER="OTHER"}(o||(o={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.ACCEPTED="ACCEPTED",e.REJECTED="REJECTED",e.EXPIRED="EXPIRED",e.INVOICED="INVOICED"}(d||(d={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.PAID="PAID",e.PARTIALLY_PAID="PARTIALLY_PAID",e.OVERDUE="OVERDUE",e.VOID="VOID",e.CANCELLED="CANCELLED"}(l||(l={})),function(e){e.ADMIN="ADMIN",e.EDITOR="EDITOR",e.VIEWER="VIEWER",e.CLIENT="CLIENT"}(i||(i={}))}};