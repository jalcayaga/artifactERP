(()=>{var e={};e.id=6623,e.ids=[6623],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8162:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(1838),r(596),r(1506),r(5866);var a=r(3191),s=r(8716),d=r(7922),o=r.n(d),i=r(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let l=["",{children:["admin",{children:["purchase-orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1838)),"/home/astro/subred-erp/frontend/app/admin/purchase-orders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,596)),"/home/astro/subred-erp/frontend/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/home/astro/subred-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/astro/subred-erp/frontend/app/admin/purchase-orders/page.tsx"],u="/admin/purchase-orders/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/purchase-orders/page",pathname:"/admin/purchase-orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9140:(e,t,r)=>{Promise.resolve().then(r.bind(r,336))},336:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(326),s=r(7577),d=r(5047),o=r(7394),i=r(2643),n=r(4762),l=r(7863),c=r(5649),u=r(6693);let m={async getAllPurchaseOrders(e=1,t=10){let r=await (0,u.Z)(`/purchase-orders?page=${e}&limit=${t}`);return{data:r.data,total:r.total,page:r.currentPage,limit:t,pages:r.pages}},getPurchaseOrderById:async e=>(0,u.Z)(`/purchase-orders/${e}`),createPurchaseOrder:async e=>(0,u.Z)("/purchase-orders",{method:"POST",body:JSON.stringify(e)}),updatePurchaseOrder:async(e,t)=>(0,u.Z)(`/purchase-orders/${e}`,{method:"PATCH",body:JSON.stringify(t)}),async deletePurchaseOrder(e){await (0,u.Z)(`/purchase-orders/${e}`,{method:"DELETE"})}};var p=r(8588),h=r(6384),x=r(772),f=r(1048),g=r(4474),N=r(5999);let b=({onSave:e,onCancel:t})=>{let{token:r}=(0,o.a)(),[d,u]=(0,s.useState)(""),[b,y]=(0,s.useState)([]),[j,v]=(0,s.useState)(new Date().toISOString().split("T")[0]),[w,E]=(0,s.useState)(""),[P,C]=(0,s.useState)([]),[A,D]=(0,s.useState)(""),[I,S]=(0,s.useState)([]),[R,T]=(0,s.useState)(null),[O,_]=(0,s.useState)(""),[k,q]=(0,s.useState)(""),[z,F]=(0,s.useState)({}),[L,V]=(0,s.useState)({}),[$,B]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r&&p.J.getAllCompanies(1,1e3,{isSupplier:!0}).then(e=>{y(e.data)}).catch(e=>console.error("Error fetching suppliers:",e))},[r]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{A.length>2&&r?c.M.searchProducts(r,A).then(e=>S(e.data)).catch(e=>console.error("Error searching products:",e)):S([])},300);return()=>clearTimeout(e)},[A,r]);let Z=(0,s.useCallback)(async e=>{T(e),D(e.name),S([]),q(e.unitPrice?.toString()||"")},[]),{subTotal:M,totalVatAmount:G,grandTotal:U}=(0,s.useMemo)(()=>{let e=P.reduce((e,t)=>e+t.totalPrice,0),t=P.reduce((e,t)=>e+t.itemVatAmount,0);return{subTotal:e,totalVatAmount:t,grandTotal:e+t}},[P]),H=()=>{let e={};R||(e.product="Debe seleccionar un producto.");let t=parseFloat(O);(isNaN(t)||t<=0)&&(e.quantity="La cantidad debe ser un n\xfamero positivo.");let r=parseFloat(k);return(isNaN(r)||r<0)&&(e.price="El precio debe ser un n\xfamero positivo o cero."),V(e),0===Object.keys(e).length},J=(0,s.useCallback)(()=>{if(!H()||!R)return;let e=parseFloat(O),t=parseFloat(k),r=e*t,a=.19*r,s={productId:R.id,productName:R.name,quantity:e,unitPrice:t,totalPrice:r,itemVatAmount:a,totalPriceWithVat:r+a};C(e=>[...e,s]),D(""),T(null),_(""),q(""),V({})},[R,O,k]),Q=(0,s.useCallback)(e=>{C(t=>t.filter((t,r)=>r!==e))},[]),Y=()=>{let e={};return d||(e.selectedCompanyId="Debe seleccionar un proveedor."),j||(e.orderDate="La fecha de pedido es requerida."),0===P.length&&(e.items="Debe a\xf1adir al menos un art\xedculo a la orden de compra."),F(e),0===Object.keys(e).length},W=async t=>{if(t.preventDefault(),Y()){B(!0);try{let t={companyId:d,orderDate:j,expectedDeliveryDate:w||void 0,status:"PENDING",items:P.map(e=>({productId:e.productId,quantity:e.quantity,unitPrice:e.unitPrice,totalPrice:e.totalPrice,itemVatAmount:e.itemVatAmount,totalPriceWithVat:e.totalPriceWithVat})),subTotalAmount:M,totalVatAmount:G,grandTotal:U};await m.createPurchaseOrder(t),N.Am.success("Orden de compra registrada exitosamente."),e()}catch(e){console.error("Error creating purchase order:",e),N.Am.error(e.message||"Error al registrar la orden de compra.")}finally{B(!1)}}},X="mt-1 text-xs text-destructive";return(0,a.jsxs)(i.Zb,{className:"max-w-4xl mx-auto border",children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{className:"text-xl",children:"Crear Nueva Orden de Compra"})}),(0,a.jsxs)("form",{onSubmit:W,children:[(0,a.jsxs)(i.aY,{className:"space-y-6 pt-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(f._,{htmlFor:"company-select",children:["Proveedor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)(g.Ph,{onValueChange:u,value:d,children:[a.jsx(g.i4,{id:"company-select",children:a.jsx(g.ki,{placeholder:"Selecciona un proveedor"})}),a.jsx(g.Bw,{children:b.map(e=>a.jsx(g.Ql,{value:e.id,children:e.name},e.id))})]}),z.selectedCompanyId&&a.jsx("p",{id:"company-error",className:X,children:z.selectedCompanyId})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(f._,{htmlFor:"order-date",children:["Fecha de Pedido ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(h.I,{type:"date",id:"order-date",value:j,onChange:e=>v(e.target.value)}),z.orderDate&&a.jsx("p",{id:"orderDate-error",className:X,children:z.orderDate})]})]}),(0,a.jsxs)("div",{children:[a.jsx(f._,{htmlFor:"expected-delivery-date",children:"Fecha de Entrega Esperada"}),a.jsx(h.I,{type:"date",id:"expected-delivery-date",value:w,onChange:e=>E(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-4 p-4 border border-border rounded-md bg-card",children:[a.jsx("h3",{className:"text-md font-semibold text-foreground",children:"Art\xedculos de la Orden de Compra"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-4 items-end",children:[(0,a.jsxs)("div",{className:"sm:col-span-5 relative",children:[a.jsx(f._,{htmlFor:"product-search",children:"Buscar Producto"}),a.jsx(h.I,{id:"product-search",type:"text",value:A,onChange:e=>D(e.target.value),placeholder:"Escribe para buscar productos...",className:"pr-10"}),a.jsx(n.W1,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),I.length>0&&a.jsx("div",{className:"absolute z-10 w-full bg-popover border border-border rounded-md shadow-lg mt-1 max-h-60 overflow-y-auto",children:I.map(e=>(0,a.jsxs)("div",{className:"px-3 py-2 hover:bg-accent cursor-pointer text-sm",onClick:()=>Z(e),children:[e.name," ",e.sku?`(${e.sku})`:""]},e.id))}),L.product&&a.jsx("p",{className:X,children:L.product})]}),R&&(0,a.jsxs)("div",{className:"sm:col-span-7 grid grid-cols-1 sm:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"sm:col-span-2",children:[a.jsx(f._,{htmlFor:"item-quantity",children:"Cantidad"}),a.jsx(h.I,{type:"number",id:"item-quantity",value:O,onChange:e=>_(e.target.value),placeholder:"0"}),L.quantity&&a.jsx("p",{className:X,children:L.quantity})]}),(0,a.jsxs)("div",{className:"sm:col-span-3",children:[a.jsx(f._,{htmlFor:"item-price",children:"Costo Unit. (sin IVA)"}),a.jsx(h.I,{type:"number",id:"item-price",value:k,onChange:e=>q(e.target.value),placeholder:"0.00",step:"0.01"}),L.price&&a.jsx("p",{className:X,children:L.price})]}),a.jsx("div",{className:"sm:col-span-5",children:(0,a.jsxs)(x.z,{type:"button",onClick:J,className:"w-full",children:[a.jsx(n.pO,{className:"w-4 h-4 mr-2"})," A\xf1adir Art\xedculo"]})})]})]}),P.length>0?a.jsx("div",{className:"mt-4 -mx-4 sm:mx-0 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-border",children:[a.jsx("thead",{className:"bg-muted/50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Producto"}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Cant."}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Costo Unit. (s/IVA)"}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Subtotal (s/IVA)"}),a.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-muted-foreground uppercase tracking-wider"})]})}),a.jsx("tbody",{className:"divide-y divide-border",children:P.map((e,t)=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-foreground",children:e.productName}),a.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-muted-foreground text-right",children:e.quantity}),a.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-muted-foreground text-right",children:(0,l.eQ)(e.unitPrice)}),a.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-foreground font-medium text-right",children:(0,l.eQ)(e.totalPrice)}),a.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:a.jsx("button",{type:"button",onClick:()=>Q(t),title:"Eliminar Art\xedculo",className:"text-destructive hover:text-destructive/80 p-1 rounded-md hover:bg-destructive/10 transition-colors",children:a.jsx(n.XH,{className:"w-4 h-4"})})})]},t))})]})}):a.jsx("p",{className:"text-sm text-center text-muted-foreground italic py-3",children:"A\xfan no se han a\xf1adido art\xedculos a la orden de compra."}),z.items&&a.jsx("p",{className:X+" text-center",children:z.items})]}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-border space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-end items-center",children:[a.jsx("span",{className:"text-md font-medium text-muted-foreground",children:"Subtotal (sin IVA):"}),a.jsx("span",{className:"ml-4 text-md font-semibold text-foreground w-32 text-right",children:(0,l.eQ)(M)})]}),(0,a.jsxs)("div",{className:"flex justify-end items-center",children:[(0,a.jsxs)("span",{className:"text-md font-medium text-muted-foreground",children:["IVA (",19,"%):"]}),a.jsx("span",{className:"ml-4 text-md font-semibold text-foreground w-32 text-right",children:(0,l.eQ)(G)})]}),(0,a.jsxs)("div",{className:"flex justify-end items-center mt-1 pt-1 border-t border-border/50",children:[a.jsx("span",{className:"text-lg font-bold text-foreground",children:"Total Orden:"}),a.jsx("span",{className:"ml-4 text-2xl font-bold text-primary w-32 text-right",children:(0,l.eQ)(U)})]})]})]}),(0,a.jsxs)(i.eW,{className:"flex flex-col sm:flex-row justify-end items-center gap-3 pt-6",children:[a.jsx(x.z,{type:"button",variant:"outline",onClick:t,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancelar"}),a.jsx(x.z,{type:"submit",className:"w-full sm:w-auto order-1 sm:order-2",disabled:$,children:$?"Guardando...":"Crear Orden de Compra"})]})]})]})};var y=r(2771),j=r(5940);let v=()=>{let{isAuthenticated:e,currentUser:t,isLoading:r}=(0,o.a)(),c=(0,d.useRouter)(),[u,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)([]),[g,N]=(0,s.useState)(!0),[v,w]=(0,s.useState)(null),[E,P]=(0,s.useState)(1),[C,A]=(0,s.useState)(1),[D,I]=(0,s.useState)(0),S=(0,s.useCallback)(async(r=1)=>{if(!e||t?.role!==y.i4.ADMIN&&t?.role!==y.i4.EDITOR){w("No autorizado para ver esta p\xe1gina o no autenticado."),N(!1),e||c.push("/login");return}N(!0);try{let e=await m.getAllPurchaseOrders(r);f(e.data),A(e.pages),P(e.page),I(e.total)}catch(e){console.error("Error fetching purchase orders:",e),e.message&&e.message.includes("Unauthorized")?c.push("/login"):w("Error al cargar las \xf3rdenes de compra.")}finally{N(!1)}},[e,t,c]);(0,s.useEffect)(()=>{r||S(E)},[S,E,r]);let R=(0,s.useCallback)(()=>{p(!0)},[]),T=(0,s.useCallback)(async()=>{p(!1),S(E)},[S,E]),O=(0,s.useCallback)(()=>{p(!1)},[]),_=e=>{P(e)};return r?a.jsx("div",{className:"text-center py-8",children:"Cargando autenticaci\xf3n..."}):g?a.jsx("div",{className:"text-center py-8",children:"Cargando \xf3rdenes de compra..."}):v?a.jsx("div",{className:"text-center py-8 text-destructive",children:v}):e&&(t?.role===y.i4.ADMIN||t?.role===y.i4.EDITOR)?u?a.jsx(b,{onSave:T,onCancel:O}):a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-foreground",children:"Gesti\xf3n de \xd3rdenes de Compra"}),(0,a.jsxs)(x.z,{className:"w-full sm:w-auto",onClick:R,children:[a.jsx(n.pO,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:"Crear Nueva Orden de Compra"})]})]}),a.jsx(i.Zb,{className:"overflow-hidden border",children:a.jsx(i.aY,{className:"p-0",children:h.length>0?a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)(j.iA,{children:[a.jsx(j.xD,{className:"bg-muted/50",children:(0,a.jsxs)(j.SC,{children:[a.jsx(j.ss,{children:"ID Orden"}),a.jsx(j.ss,{children:"Empresa"}),a.jsx(j.ss,{className:"hidden sm:table-cell",children:"Fecha Pedido"}),a.jsx(j.ss,{className:"text-right",children:"Total"})]})}),a.jsx(j.RM,{children:h.map(e=>(0,a.jsxs)(j.SC,{className:"hover:bg-accent transition-colors duration-150",children:[(0,a.jsxs)(j.pj,{className:"font-mono text-muted-foreground",children:[e.id.substring(0,8),"..."]}),a.jsx(j.pj,{children:a.jsx("div",{className:"font-medium text-foreground",children:e.company?.name})}),a.jsx(j.pj,{className:"hidden sm:table-cell text-muted-foreground",children:new Date(e.orderDate).toLocaleDateString()}),a.jsx(j.pj,{className:"font-semibold text-primary text-right",children:(0,l.eQ)(e.grandTotal)})]},e.id))})]})}):(0,a.jsxs)("div",{className:"text-center py-12 px-4",children:[a.jsx(n.Q1,{className:"mx-auto h-16 w-16 text-muted-foreground opacity-40"}),a.jsx("h3",{className:"mt-3 text-xl font-semibold text-foreground",children:"No hay \xf3rdenes de compra registradas"}),a.jsx("p",{className:"mt-1.5 text-sm text-muted-foreground",children:"Comienza creando una nueva orden de compra para verla listada aqu\xed."}),a.jsx("div",{className:"mt-6",children:(0,a.jsxs)(x.z,{type:"button",onClick:R,children:[a.jsx(n.pO,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:"Crear Primera Orden de Compra"})]})})]})})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[a.jsx("div",{children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["P\xe1gina ",E," de ",C," (Total: ",D," \xf3rdenes)"]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>_(E-1),disabled:E<=1,children:"Anterior"}),a.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>_(E+1),disabled:E>=C,children:"Siguiente"})]})]})]})}):a.jsx("div",{className:"text-center py-8 text-destructive",children:"Acceso denegado. No tienes permisos suficientes."})};function w(){return a.jsx(v,{})}},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var a=r(326),s=r(7577),d=r.n(s),o=r(4214),i=r(9360),n=r(7863);let l=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",outline:"border border-primary-500 text-primary-500 hover:bg-primary-50",ghost:"hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8"}},defaultVariants:{variant:"default",size:"default"}}),c=d().forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...d},i)=>{let c=s?o.g7:"button";return a.jsx(c,{className:(0,n.cn)(l({variant:t,size:r,className:e})),ref:i,...d})});c.displayName="Button"},6384:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var a=r(326),s=r(7577),d=r(7863);let o=s.forwardRef(({className:e,type:t,...r},s)=>a.jsx("input",{type:t,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));o.displayName="Input"},1048:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var a=r(326),s=r(7577),d=r(4478),o=r(9360),i=r(7863);let n=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef(({className:e,...t},r)=>a.jsx(d.f,{ref:r,className:(0,i.cn)(n(),e),...t}));l.displayName=d.f.displayName},4474:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>m,Ph:()=>l,Ql:()=>p,i4:()=>u,ki:()=>c});var a=r(326),s=r(7577),d=r(7185),o=r(8393),i=r(2933),n=r(7863);let l=d.fC;d.ZA;let c=d.B4,u=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(d.xz,{ref:s,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(d.JO,{asChild:!0,children:a.jsx(o.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=d.xz.displayName;let m=s.forwardRef(({className:e,children:t,position:r="popper",...s},o)=>a.jsx(d.h_,{children:a.jsx(d.VY,{ref:o,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:a.jsx(d.l_,{className:(0,n.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));m.displayName=d.VY.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(d.__,{ref:r,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=d.__.displayName;let p=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(d.ck,{ref:s,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(d.wU,{children:a.jsx(i.Z,{className:"h-4 w-4"})})}),a.jsx(d.eT,{children:t})]}));p.displayName=d.ck.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(d.Z0,{ref:r,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=d.Z0.displayName},5940:(e,t,r)=>{"use strict";r.d(t,{RM:()=>n,SC:()=>l,iA:()=>o,pj:()=>u,ss:()=>c,xD:()=>i});var a=r(326),s=r(7577),d=r(7863);let o=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:(0,d.cn)("w-full caption-bottom text-sm",e),...t})}));o.displayName="Table";let i=s.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:(0,d.cn)("[&_tr]:border-b",e),...t}));i.displayName="TableHeader";let n=s.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:(0,d.cn)("[&_tr:last-child]:border-0",e),...t}));n.displayName="TableBody",s.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:hidden",e),...t})).displayName="TableFooter";let l=s.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));l.displayName="TableRow";let c=s.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=s.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",s.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},6824:(e,t,r)=>{"use strict";r.d(t,{h:()=>d});var a=r(4099);let s=()=>localStorage.getItem("wolfflow_token"),d=a.Z.create({baseURL:"http://localhost:3001",headers:{"Content-Type":"application/json"}});d.interceptors.request.use(e=>{let t=s();return console.log("Auth Token being sent:",t),t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e))},6693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6824);let s=async function(e,t){try{let r={};return t?.headers&&(t.headers instanceof Headers?t.headers.forEach((e,t)=>{r[t]=e}):Array.isArray(t.headers)?t.headers.forEach(([e,t])=>{r[e]=t}):Object.assign(r,t.headers)),(await (0,a.h)(e,{method:t?.method||"GET",data:t?.body,headers:r})).data}catch(e){if(e.response)throw Error(e.response.data.message||e.response.statusText);if(e.request)throw Error("No response received from server.");throw Error(e.message)}}},8588:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var a=r(6693);let s={async getAllCompanies(e=1,t=10,r={}){let s=new URLSearchParams({page:e.toString(),limit:t.toString()});return r.isClient&&s.append("isClient","true"),r.isSupplier&&s.append("isSupplier","true"),(0,a.Z)(`/companies?${s.toString()}`)},getCompanyById:async e=>(0,a.Z)(`/companies/${e}`),createCompany:async e=>await (0,a.Z)("/companies",{method:"POST",body:JSON.stringify(e)}),updateCompany:async(e,t)=>await (0,a.Z)(`/companies/${e}`,{method:"PATCH",body:JSON.stringify(t)}),async deleteCompany(e){await (0,a.Z)(`/companies/${e}`,{method:"DELETE"})}}},5649:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var a=r(6824);let s={getAllProducts:async(e,t=1,r=10)=>(await a.h.get("/products",{params:{page:t,limit:r},headers:{Authorization:`Bearer ${e}`}})).data,searchProducts:async(e,t,r=1,s=10)=>(await a.h.get("/products/search",{params:{term:t,page:r,limit:s},headers:{Authorization:`Bearer ${e}`}})).data,getPublishedProducts:async(e=1,t=10,r,s,d,o)=>(await a.h.get("/products/published",{params:{page:e,limit:t,category:r,searchQuery:s,minPrice:d,maxPrice:o}})).data,getPublishedProductById:async e=>(await a.h.get(`/products/published/${e}`)).data,getProductLots:async(e,t)=>(await a.h.get(`/products/${e}/lots`,{headers:{Authorization:`Bearer ${t}`}})).data,getAverageCost:async(e,t)=>(await a.h.get(`/products/${e}/average-cost`,{headers:{Authorization:`Bearer ${t}`}})).data,createProduct:async(e,t)=>(await a.h.post("/products",e,{headers:{Authorization:`Bearer ${t}`}})).data,updateProduct:async(e,t,r)=>(await a.h.patch(`/products/${e}`,t,{headers:{Authorization:`Bearer ${r}`}})).data,async deleteProduct(e,t){await a.h.delete(`/products/${e}`,{headers:{Authorization:`Bearer ${t}`}})},async uploadTechnicalSheet(e,t,r){let s=new FormData;return s.append("file",t),(await a.h.post(`/products/${e}/technical-sheet`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r}`}})).data},deleteTechnicalSheet:async(e,t)=>(await a.h.delete(`/products/${e}/technical-sheet`,{headers:{Authorization:`Bearer ${t}`}})).data}},2771:(e,t,r)=>{"use strict";var a,s,d,o,i,n;r.d(t,{UY:()=>i,XL:()=>d,bG:()=>s,gS:()=>o,i4:()=>n,iF:()=>a}),r(7577),function(e){e.PENDING_PAYMENT="PENDING_PAYMENT",e.PROCESSING="PROCESSING",e.SHIPPED="SHIPPED",e.DELIVERED="DELIVERED",e.CANCELLED="CANCELLED",e.REFUNDED="REFUNDED"}(a||(a={})),function(e){e.PENDING="PENDING",e.PAID="PAID",e.FAILED="FAILED",e.REFUNDED="REFUNDED"}(s||(s={})),function(e){e.CASH="CASH",e.DEBIT_CARD="DEBIT_CARD",e.CREDIT_CARD="CREDIT_CARD",e.BANK_TRANSFER="BANK_TRANSFER",e.OTHER="OTHER"}(d||(d={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.ACCEPTED="ACCEPTED",e.REJECTED="REJECTED",e.EXPIRED="EXPIRED",e.INVOICED="INVOICED"}(o||(o={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.PAID="PAID",e.PARTIALLY_PAID="PARTIALLY_PAID",e.OVERDUE="OVERDUE",e.VOID="VOID",e.CANCELLED="CANCELLED"}(i||(i={})),function(e){e.ADMIN="ADMIN",e.EDITOR="EDITOR",e.VIEWER="VIEWER",e.CLIENT="CLIENT"}(n||(n={}))},5047:(e,t,r)=>{"use strict";var a=r(7389);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},1838:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/home/astro/subred-erp/frontend/app/admin/purchase-orders/page.tsx#default`)},4478:(e,t,r)=>{"use strict";r.d(t,{f:()=>i});var a=r(7577),s=r(5226),d=r(326),o=a.forwardRef((e,t)=>(0,d.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var i=o}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7364,434,325,531,2574,5999,4278,4139],()=>r(8162));module.exports=a})();