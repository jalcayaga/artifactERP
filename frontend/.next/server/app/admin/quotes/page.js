(()=>{var e={};e.id=5933,e.ids=[5933],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},3882:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>f,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>u}),r(4713),r(596),r(1506),r(5866);var a=r(3191),i=r(8716),n=r(7922),s=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u=["",{children:["admin",{children:["quotes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4713)),"/home/astro/subred-erp/frontend/app/admin/quotes/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,596)),"/home/astro/subred-erp/frontend/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/home/astro/subred-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/astro/subred-erp/frontend/app/admin/quotes/page.tsx"],c="/admin/quotes/page",f={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/quotes/page",pathname:"/admin/quotes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},691:(e,t,r)=>{Promise.resolve().then(r.bind(r,7570))},7570:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>iS});var a=r(326),i=r(7577),n=r(5047),s=r(7394),o=r(2643),l=e=>"checkbox"===e.type,u=e=>e instanceof Date,d=e=>null==e;let c=e=>"object"==typeof e;var f=e=>!d(e)&&!Array.isArray(e)&&c(e)&&!u(e),p=e=>f(e)&&e.target?l(e.target)?e.target.checked:e.target.value:e,m=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,h=(e,t)=>e.has(m(t)),g=e=>{let t=e.constructor&&e.constructor.prototype;return f(t)&&t.hasOwnProperty("isPrototypeOf")},y="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function v(e){let t;let r=Array.isArray(e),a="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(!(!(y&&(e instanceof Blob||a))&&(r||f(e))))return e;else if(t=r?[]:{},r||g(e))for(let r in e)e.hasOwnProperty(r)&&(t[r]=v(e[r]));else t=e;return t}var x=e=>/^\w*$/.test(e),b=e=>void 0===e,_=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),j=(e,t,r)=>{if(!t||!f(e))return r;let a=(x(t)?[t]:w(t)).reduce((e,t)=>d(e)?e:e[t],e);return b(a)||a===e?b(e[t])?r:e[t]:a},z=e=>"boolean"==typeof e,k=(e,t,r)=>{let a=-1,i=x(t)?[t]:w(t),n=i.length,s=n-1;for(;++a<n;){let t=i[a],n=r;if(a!==s){let r=e[t];n=f(r)||Array.isArray(r)?r:isNaN(+i[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=n,e=e[t]}};let N={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},A={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},E={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},S=i.createContext(null);S.displayName="HookFormContext";let C=()=>i.useContext(S);var D=(e,t,r,a=!0)=>{let i={defaultValues:t._defaultValues};for(let n in e)Object.defineProperty(i,n,{get:()=>(t._proxyFormState[n]!==A.all&&(t._proxyFormState[n]=!a||A.all),r&&(r[n]=!0),e[n])});return i};let V="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;var $=e=>"string"==typeof e,I=(e,t,r,a,i)=>$(e)?(a&&t.watch.add(e),j(r,e,i)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),j(r,e))):(a&&(t.watchAll=!0),r),F=e=>d(e)||!c(e);function T(e,t,r=new WeakSet){if(F(e)||F(t))return e===t;if(u(e)&&u(t))return e.getTime()===t.getTime();let a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;for(let n of(r.add(e),r.add(t),a)){let a=e[n];if(!i.includes(n))return!1;if("ref"!==n){let e=t[n];if(u(a)&&u(e)||f(a)&&f(e)||Array.isArray(a)&&Array.isArray(e)?!T(a,e,r):a!==e)return!1}}return!0}let P=e=>e.render(function(e){let t=C(),{name:r,disabled:a,control:n=t.control,shouldUnregister:s,defaultValue:o}=e,l=h(n._names.array,r),u=i.useMemo(()=>j(n._formValues,r,j(n._defaultValues,r,o)),[n,r,o]),d=function(e){let t=C(),{control:r=t.control,name:a,defaultValue:n,disabled:s,exact:o,compute:l}=e||{},u=i.useRef(n),d=i.useRef(l),c=i.useRef(void 0);d.current=l;let f=i.useMemo(()=>r._getWatch(a,u.current),[r,a]),[p,m]=i.useState(d.current?d.current(f):f);return V(()=>r._subscribe({name:a,formState:{values:!0},exact:o,callback:e=>{if(!s){let t=I(a,r._names,e.values||r._formValues,!1,u.current);if(d.current){let e=d.current(t);T(e,c.current)||(m(e),c.current=e)}else m(t)}}}),[r,s,a,o]),i.useEffect(()=>r._removeUnmounted()),p}({control:n,name:r,defaultValue:u,exact:!0}),c=function(e){let t=C(),{control:r=t.control,disabled:a,name:n,exact:s}=e||{},[o,l]=i.useState(r._formState),u=i.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return V(()=>r._subscribe({name:n,formState:u.current,exact:s,callback:e=>{a||l({...r._formState,...e})}}),[n,a,s]),i.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),i.useMemo(()=>D(o,r,u.current,!1),[o,r])}({control:n,name:r,exact:!0}),f=i.useRef(e),m=i.useRef(n.register(r,{...e.rules,value:d,...z(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;let g=i.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!j(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!j(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!j(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!j(c.validatingFields,r)},error:{enumerable:!0,get:()=>j(c.errors,r)}}),[c,r]),y=i.useCallback(e=>m.current.onChange({target:{value:p(e),name:r},type:N.CHANGE}),[r]),x=i.useCallback(()=>m.current.onBlur({target:{value:j(n._formValues,r),name:r},type:N.BLUR}),[r,n._formValues]),_=i.useCallback(e=>{let t=j(n._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus&&e.focus(),select:()=>e.select&&e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})},[n._fields,r]),w=i.useMemo(()=>({name:r,value:d,...z(a)||c.disabled?{disabled:c.disabled||a}:{},onChange:y,onBlur:x,ref:_}),[r,a,c.disabled,y,x,_,d]);return i.useEffect(()=>{let e=n._options.shouldUnregister||s;n.register(r,{...f.current.rules,...z(f.current.disabled)?{disabled:f.current.disabled}:{}});let t=(e,t)=>{let r=j(n._fields,e);r&&r._f&&(r._f.mount=t)};if(t(r,!0),e){let e=v(j(n._options.defaultValues,r));k(n._defaultValues,r,e),b(j(n._formValues,r))&&k(n._formValues,r,e)}return l||n.register(r),()=>{(l?e&&!n._state.action:e)?n.unregister(r):t(r,!1)}},[r,n,l,s]),i.useEffect(()=>{n._setDisabledField({disabled:a,name:r})},[a,r,n]),i.useMemo(()=>({field:w,formState:c,fieldState:g}),[w,c,g])}(e));var Z=(e,t,r,a,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:i||!0}}:{},O=e=>Array.isArray(e)?e:[e],R=()=>{let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},U=e=>f(e)&&!Object.keys(e).length,L=e=>"file"===e.type,q=e=>"function"==typeof e,M=e=>{if(!y)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},B=e=>"select-multiple"===e.type,W=e=>"radio"===e.type,G=e=>W(e)||l(e),H=e=>M(e)&&e.isConnected;function Y(e,t){let r=Array.isArray(t)?t:x(t)?[t]:w(t),a=1===r.length?e:function(e,t){let r=t.slice(0,-1).length,a=0;for(;a<r;)e=b(e)?a++:e[t[a++]];return e}(e,r),i=r.length-1,n=r[i];return a&&delete a[n],0!==i&&(f(a)&&U(a)||Array.isArray(a)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!b(e[t]))return!1;return!0}(a))&&Y(e,r.slice(0,-1)),e}var J=e=>{for(let t in e)if(q(e[t]))return!0;return!1};function Q(e,t={}){let r=Array.isArray(e);if(f(e)||r)for(let r in e)Array.isArray(e[r])||f(e[r])&&!J(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Q(e[r],t[r])):d(e[r])||(t[r]=!0);return t}var X=(e,t)=>(function e(t,r,a){let i=Array.isArray(t);if(f(t)||i)for(let i in t)Array.isArray(t[i])||f(t[i])&&!J(t[i])?b(r)||F(a[i])?a[i]=Array.isArray(t[i])?Q(t[i],[]):{...Q(t[i])}:e(t[i],d(r)?{}:r[i],a[i]):a[i]=!T(t[i],r[i]);return a})(e,t,Q(t));let K={value:!1,isValid:!1},ee={value:!0,isValid:!0};var et=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!b(e[0].attributes.value)?b(e[0].value)||""===e[0].value?ee:{value:e[0].value,isValid:!0}:ee:K}return K},er=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>b(e)?e:t?""===e?NaN:e?+e:e:r&&$(e)?new Date(e):a?a(e):e;let ea={isValid:!1,value:null};var ei=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ea):ea;function en(e){let t=e.ref;return L(t)?t.files:W(t)?ei(e.refs).value:B(t)?[...t.selectedOptions].map(({value:e})=>e):l(t)?et(e.refs).value:er(b(t.value)?e.ref.value:t.value,e)}var es=(e,t,r,a)=>{let i={};for(let r of e){let e=j(t,r);e&&k(i,r,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:a}},eo=e=>e instanceof RegExp,el=e=>b(e)?e:eo(e)?e.source:f(e)?eo(e.value)?e.value.source:e.value:e,eu=e=>({isOnSubmit:!e||e===A.onSubmit,isOnBlur:e===A.onBlur,isOnChange:e===A.onChange,isOnAll:e===A.all,isOnTouch:e===A.onTouched});let ed="AsyncFunction";var ec=e=>!!e&&!!e.validate&&!!(q(e.validate)&&e.validate.constructor.name===ed||f(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ed)),ef=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ep=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let em=(e,t,r,a)=>{for(let i of r||Object.keys(e)){let r=j(e,i);if(r){let{_f:e,...n}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!a||e.ref&&t(e.ref,e.name)&&!a)return!0;if(em(n,t))break}else if(f(n)&&em(n,t))break}}};function eh(e,t,r){let a=j(e,r);if(a||x(r))return{error:a,name:r};let i=r.split(".");for(;i.length;){let a=i.join("."),n=j(t,a),s=j(e,a);if(n&&!Array.isArray(n)&&r!==a)break;if(s&&s.type)return{name:a,error:s};if(s&&s.root&&s.root.type)return{name:`${a}.root`,error:s.root};i.pop()}return{name:r}}var eg=(e,t,r,a)=>{r(e);let{name:i,...n}=e;return U(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(e=>t[e]===(!a||A.all))},ey=(e,t,r)=>!e||!t||e===t||O(e).some(e=>e&&(r?e===t:e.startsWith(t)||t.startsWith(e))),ev=(e,t,r,a,i)=>!i.isOnAll&&(!r&&i.isOnTouch?!(t||e):(r?a.isOnBlur:i.isOnBlur)?!e:(r?!a.isOnChange:!i.isOnChange)||e),ex=(e,t)=>!_(j(e,t)).length&&Y(e,t),eb=(e,t,r)=>{let a=O(j(e,r));return k(a,"root",t[r]),k(e,r,a),e},e_=e=>$(e);function ew(e,t,r="validate"){if(e_(e)||Array.isArray(e)&&e.every(e_)||z(e)&&!e)return{type:r,message:e_(e)?e:"",ref:t}}var ej=e=>f(e)&&!eo(e)?e:{value:e,message:""},ez=async(e,t,r,a,i,n)=>{let{ref:s,refs:o,required:u,maxLength:c,minLength:p,min:m,max:h,pattern:g,validate:y,name:v,valueAsNumber:x,mount:_}=e._f,w=j(r,v);if(!_||t.has(v))return{};let k=o?o[0]:s,N=e=>{i&&k.reportValidity&&(k.setCustomValidity(z(e)?"":e||""),k.reportValidity())},A={},S=W(s),C=l(s),D=(x||L(s))&&b(s.value)&&b(w)||M(s)&&""===s.value||""===w||Array.isArray(w)&&!w.length,V=Z.bind(null,v,a,A),I=(e,t,r,a=E.maxLength,i=E.minLength)=>{let n=e?t:r;A[v]={type:e?a:i,message:n,ref:s,...V(e?a:i,n)}};if(n?!Array.isArray(w)||!w.length:u&&(!(S||C)&&(D||d(w))||z(w)&&!w||C&&!et(o).isValid||S&&!ei(o).isValid)){let{value:e,message:t}=e_(u)?{value:!!u,message:u}:ej(u);if(e&&(A[v]={type:E.required,message:t,ref:k,...V(E.required,t)},!a))return N(t),A}if(!D&&(!d(m)||!d(h))){let e,t;let r=ej(h),i=ej(m);if(d(w)||isNaN(w)){let a=s.valueAsDate||new Date(w),n=e=>new Date(new Date().toDateString()+" "+e),o="time"==s.type,l="week"==s.type;$(r.value)&&w&&(e=o?n(w)>n(r.value):l?w>r.value:a>new Date(r.value)),$(i.value)&&w&&(t=o?n(w)<n(i.value):l?w<i.value:a<new Date(i.value))}else{let a=s.valueAsNumber||(w?+w:w);d(r.value)||(e=a>r.value),d(i.value)||(t=a<i.value)}if((e||t)&&(I(!!e,r.message,i.message,E.max,E.min),!a))return N(A[v].message),A}if((c||p)&&!D&&($(w)||n&&Array.isArray(w))){let e=ej(c),t=ej(p),r=!d(e.value)&&w.length>+e.value,i=!d(t.value)&&w.length<+t.value;if((r||i)&&(I(r,e.message,t.message),!a))return N(A[v].message),A}if(g&&!D&&$(w)){let{value:e,message:t}=ej(g);if(eo(e)&&!w.match(e)&&(A[v]={type:E.pattern,message:t,ref:s,...V(E.pattern,t)},!a))return N(t),A}if(y){if(q(y)){let e=ew(await y(w,r),k);if(e&&(A[v]={...e,...V(E.validate,e.message)},!a))return N(e.message),A}else if(f(y)){let e={};for(let t in y){if(!U(e)&&!a)break;let i=ew(await y[t](w,r),k,t);i&&(e={...i,...V(t,i.message)},N(i.message),a&&(A[v]=e))}if(!U(e)&&(A[v]={ref:k,...e},!a))return A}}return N(!0),A};let ek={mode:A.onSubmit,reValidateMode:A.onChange,shouldFocusError:!0};var eN=()=>{if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();let e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)})},eA=(e,t,r={})=>r.shouldFocus||b(r.shouldFocus)?r.focusName||`${e}.${b(r.focusIndex)?t:r.focusIndex}.`:"",eE=(e,t)=>[...e,...O(t)],eS=e=>Array.isArray(e)?e.map(()=>void 0):void 0;function eC(e,t,r){return[...e.slice(0,t),...O(r),...e.slice(t)]}var eD=(e,t,r)=>Array.isArray(e)?(b(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],eV=(e,t)=>[...O(t),...O(e)],e$=(e,t)=>b(t)?[]:function(e,t){let r=0,a=[...e];for(let e of t)a.splice(e-r,1),r++;return _(a).length?a:[]}(e,O(t).sort((e,t)=>e-t)),eI=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},eF=(e,t,r)=>(e[t]=r,e);let eT=(e,t,r)=>{if(e&&"reportValidity"in e){let a=j(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},eP=(e,t)=>{for(let r in t.fields){let a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?eT(a.ref,r,e):a&&a.refs&&a.refs.forEach(t=>eT(t,r,e))}},eZ=(e,t)=>{t.shouldUseNativeValidation&&eP(e,t);let r={};for(let a in e){let i=j(t.fields,a),n=Object.assign(e[a]||{},{ref:i&&i.ref});if(eO(t.names||Object.keys(e),a)){let e=Object.assign({},j(r,a));k(e,"root",n),k(r,a,e)}else k(r,a,n)}return r},eO=(e,t)=>{let r=eR(t);return e.some(e=>eR(e).match(`^${r}\\.\\d+`))};function eR(e){return e.replace(/\]|\[/g,"")}function eU(e,t,r){function a(r,a){var i;for(let n in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(i=r._zod).traits??(i.traits=new Set),r._zod.traits.add(e),t(r,a),s.prototype)n in r||Object.defineProperty(r,n,{value:s.prototype[n].bind(r)});r._zod.constr=s,r._zod.def=a}let i=r?.Parent??Object;class n extends i{}function s(e){var t;let i=r?.Parent?new n:this;for(let r of(a(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))r();return i}return Object.defineProperty(n,"name",{value:e}),Object.defineProperty(s,"init",{value:a}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}Object.freeze({status:"aborted"}),Symbol("zod_brand");class eL extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}let eq={};function eM(e){return e&&Object.assign(eq,e),eq}function eB(e,t){return"bigint"==typeof t?t.toString():t}function eW(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function eG(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}let eH=Symbol("evaluating");function eY(e,t,r){let a;Object.defineProperty(e,t,{get(){if(a!==eH)return void 0===a&&(a=eH,a=r()),a},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function eJ(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function eQ(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function eX(e){return JSON.stringify(e)}let eK="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function e0(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let e1=eW(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function e4(e){if(!1===e0(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==e0(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}let e2=new Set(["string","number","symbol"]);function e5(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function e9(e,t,r){let a=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(a._zod.parent=e),a}function e6(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}let e3={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function e7(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function e8(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function te(e){return"string"==typeof e?e:e?.message}function tt(e,t,r){let a={...e,path:e.path??[]};if(!e.message){let i=te(e.inst?._zod.def?.error?.(e))??te(t?.error?.(e))??te(r.customError?.(e))??te(r.localeError?.(e))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,t?.reportInput||delete a.input,a}function tr(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function ta(...e){let[t,r,a]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:a}:{...t}}let ti=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,eB,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},tn=eU("$ZodError",ti),ts=eU("$ZodError",ti,{Parent:Error}),to=e=>(t,r,a,i)=>{let n=a?Object.assign(a,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},n);if(s instanceof Promise)throw new eL;if(s.issues.length){let t=new(i?.Err??e)(s.issues.map(e=>tt(e,n,eM())));throw eK(t,i?.callee),t}return s.value},tl=to(ts),tu=e=>async(t,r,a,i)=>{let n=a?Object.assign(a,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},n);if(s instanceof Promise&&(s=await s),s.issues.length){let t=new(i?.Err??e)(s.issues.map(e=>tt(e,n,eM())));throw eK(t,i?.callee),t}return s.value},td=tu(ts),tc=e=>(t,r,a)=>{let i=a?{...a,async:!1}:{async:!1},n=t._zod.run({value:r,issues:[]},i);if(n instanceof Promise)throw new eL;return n.issues.length?{success:!1,error:new(e??tn)(n.issues.map(e=>tt(e,i,eM())))}:{success:!0,data:n.value}},tf=tc(ts),tp=e=>async(t,r,a)=>{let i=a?Object.assign(a,{async:!0}):{async:!0},n=t._zod.run({value:r,issues:[]},i);return n instanceof Promise&&(n=await n),n.issues.length?{success:!1,error:new e(n.issues.map(e=>tt(e,i,eM())))}:{success:!0,data:n.value}},tm=tp(ts);function th(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}let tg=/^[cC][^\s-]{8,}$/,ty=/^[0-9a-z]+$/,tv=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,tx=/^[0-9a-vA-V]{20}$/,tb=/^[A-Za-z0-9]{27}$/,t_=/^[a-zA-Z0-9_-]{21}$/,tw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,tj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,tz=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,tk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,tN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,tE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,tD=/^[A-Za-z0-9_-]*$/,tV=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,t$=/^\+(?:[0-9]){6,14}[0-9]$/,tI="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",tF=RegExp(`^${tI}$`);function tT(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}let tP=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},tZ=/^\d+$/,tO=/^-?\d+(?:\.\d+)?/i,tR=/^[^A-Z]*$/,tU=/^[^a-z]*$/,tL=eU("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),tq={number:"number",bigint:"bigint",object:"date"},tM=eU("$ZodCheckLessThan",(e,t)=>{tL.init(e,t);let r=tq[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,a=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:r,code:"too_big",maximum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tB=eU("$ZodCheckGreaterThan",(e,t)=>{tL.init(e,t);let r=tq[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,a=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:r,code:"too_small",minimum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tW=eU("$ZodCheckMultipleOf",(e,t)=>{tL.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===function(e,t){let r=(e.toString().split(".")[1]||"").length,a=t.toString(),i=(a.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(a)){let e=a.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}let n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),tG=eU("$ZodCheckNumberFormat",(e,t)=>{tL.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),a=r?"int":"number",[i,n]=e3[t.format];e._zod.onattach.push(e=>{let a=e._zod.bag;a.format=t.format,a.minimum=i,a.maximum=n,r&&(a.pattern=tZ)}),e._zod.check=s=>{let o=s.value;if(r){if(!Number.isInteger(o)){s.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort});return}}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>n&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:n,inst:e})}}),tH=eU("$ZodCheckMaxLength",(e,t)=>{var r;tL.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return null!=t&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let a=r.value;if(a.length<=t.maximum)return;let i=tr(a);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),tY=eU("$ZodCheckMinLength",(e,t)=>{var r;tL.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return null!=t&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let a=r.value;if(a.length>=t.minimum)return;let i=tr(a);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),tJ=eU("$ZodCheckLengthEquals",(e,t)=>{var r;tL.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return null!=t&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let a=r.value,i=a.length;if(i===t.length)return;let n=tr(a),s=i>t.length;r.issues.push({origin:n,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),tQ=eU("$ZodCheckStringFormat",(e,t)=>{var r,a;tL.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(a=e._zod).check??(a.check=()=>{})}),tX=eU("$ZodCheckRegex",(e,t)=>{tQ.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),tK=eU("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=tR),tQ.init(e,t)}),t0=eU("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=tU),tQ.init(e,t)}),t1=eU("$ZodCheckIncludes",(e,t)=>{tL.init(e,t);let r=e5(t.includes),a=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=a,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(a)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),t4=eU("$ZodCheckStartsWith",(e,t)=>{tL.init(e,t);let r=RegExp(`^${e5(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),t2=eU("$ZodCheckEndsWith",(e,t)=>{tL.init(e,t);let r=RegExp(`.*${e5(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),t5=eU("$ZodCheckOverwrite",(e,t)=>{tL.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class t9{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}let t6={major:4,minor:0,patch:14},t3=eU("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=t6;let a=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&a.unshift(e),a))for(let r of t._zod.onattach)r(e);if(0===a.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let a,i=e7(e);for(let n of t){if(n._zod.def.when){if(!n._zod.def.when(e))continue}else if(i)continue;let t=e.issues.length,s=n._zod.check(e);if(s instanceof Promise&&r?.async===!1)throw new eL;if(a||s instanceof Promise)a=(a??Promise.resolve()).then(async()=>{await s,e.issues.length===t||i||(i=e7(e,t))});else{if(e.issues.length===t)continue;i||(i=e7(e,t))}}return a?a.then(()=>e):e};e._zod.run=(r,i)=>{let n=e._zod.parse(r,i);if(n instanceof Promise){if(!1===i.async)throw new eL;return n.then(e=>t(e,a,i))}return t(n,a,i)}}e["~standard"]={validate:t=>{try{let r=tf(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return tm(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),t7=eU("$ZodString",(e,t)=>{t3.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??tP(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),t8=eU("$ZodStringFormat",(e,t)=>{tQ.init(e,t),t7.init(e,t)}),re=eU("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=tj),t8.init(e,t)}),rt=eU("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=tz(e))}else t.pattern??(t.pattern=tz());t8.init(e,t)}),rr=eU("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=tk),t8.init(e,t)}),ra=eU("$ZodURL",(e,t)=>{t8.init(e,t),e._zod.check=r=>{try{let a=r.value.trim(),i=new URL(a);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:tV.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=a;return}catch(a){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),ri=eU("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t8.init(e,t)}),rn=eU("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=t_),t8.init(e,t)}),rs=eU("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=tg),t8.init(e,t)}),ro=eU("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=ty),t8.init(e,t)}),rl=eU("$ZodULID",(e,t)=>{t.pattern??(t.pattern=tv),t8.init(e,t)}),ru=eU("$ZodXID",(e,t)=>{t.pattern??(t.pattern=tx),t8.init(e,t)}),rd=eU("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=tb),t8.init(e,t)}),rc=eU("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=function(e){let t=tT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let a=`${t}(?:${r.join("|")})`;return RegExp(`^${tI}T(?:${a})$`)}(t)),t8.init(e,t)}),rf=eU("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=tF),t8.init(e,t)}),rp=eU("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=RegExp(`^${tT(t)}$`)),t8.init(e,t)}),rm=eU("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=tw),t8.init(e,t)}),rh=eU("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=tN),t8.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),rg=eU("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=tA),t8.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),ry=eU("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=tE),t8.init(e,t)}),rv=eU("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=tS),t8.init(e,t),e._zod.check=r=>{let[a,i]=r.value.split("/");try{if(!i)throw Error();let e=Number(i);if(`${e}`!==i||e<0||e>128)throw Error();new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function rx(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let rb=eU("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=tC),t8.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{rx(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}}),r_=eU("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=tD),t8.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{!function(e){if(!tD.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return rx(t.padEnd(4*Math.ceil(t.length/4),"="))}(r.value)&&r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),rw=eU("$ZodE164",(e,t)=>{t.pattern??(t.pattern=t$),t8.init(e,t)}),rj=eU("$ZodJWT",(e,t)=>{t8.init(e,t),e._zod.check=r=>{!function(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[a]=r;if(!a)return!1;let i=JSON.parse(atob(a));if("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))return!1;return!0}catch{return!1}}(r.value,t.alg)&&r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),rz=eU("$ZodNumber",(e,t)=>{t3.init(e,t),e._zod.pattern=e._zod.bag.pattern??tO,e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let i=r.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return r;let n="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...n?{received:n}:{}}),r}}),rk=eU("$ZodNumber",(e,t)=>{tG.init(e,t),rz.init(e,t)}),rN=eU("$ZodUnknown",(e,t)=>{t3.init(e,t),e._zod.parse=e=>e}),rA=eU("$ZodNever",(e,t)=>{t3.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function rE(e,t,r){e.issues.length&&t.issues.push(...e8(r,e.issues)),t.value[r]=e.value}let rS=eU("$ZodArray",(e,t)=>{t3.init(e,t),e._zod.parse=(r,a)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let n=[];for(let e=0;e<i.length;e++){let s=i[e],o=t.element._zod.run({value:s,issues:[]},a);o instanceof Promise?n.push(o.then(t=>rE(t,r,e))):rE(o,r,e)}return n.length?Promise.all(n).then(()=>r):r}});function rC(e,t,r,a){e.issues.length&&t.issues.push(...e8(r,e.issues)),void 0===e.value?r in a&&(t.value[r]=void 0):t.value[r]=e.value}let rD=eU("$ZodObject",(e,t)=>{let r,a;t3.init(e,t);let i=eW(()=>{let e=Object.keys(t.shape);for(let r of e)if(!(t.shape[r]instanceof t3))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=function(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}});eY(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let a=e[t]._zod;if(a.values)for(let e of(r[t]??(r[t]=new Set),a.values))r[t].add(e)}return r});let n=e=>{let t=new t9(["shape","payload","ctx"]),r=i.value,a=e=>{let t=eX(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let n=Object.create(null),s=0;for(let e of r.keys)n[e]=`key_${s++}`;for(let e of(t.write("const newResult = {}"),r.keys)){let r=n[e],i=eX(e);t.write(`const ${r} = ${a(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${i}, ...iss.path] : [${i}]
          })));
        }
        
        if (${r}.value === undefined) {
          if (${i} in input) {
            newResult[${i}] = undefined;
          }
        } else {
          newResult[${i}] = ${r}.value;
        }
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)},s=!eq.jitless,o=s&&e1.value,l=t.catchall;e._zod.parse=(u,d)=>{a??(a=i.value);let c=u.value;if(!e0(c))return u.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),u;let f=[];if(s&&o&&d?.async===!1&&!0!==d.jitless)r||(r=n(t.shape)),u=r(u,d);else{u.value={};let e=a.shape;for(let t of a.keys){let r=e[t]._zod.run({value:c[t],issues:[]},d);r instanceof Promise?f.push(r.then(e=>rC(e,u,t,c))):rC(r,u,t,c)}}if(!l)return f.length?Promise.all(f).then(()=>u):u;let p=[],m=a.keySet,h=l._zod,g=h.def.type;for(let e of Object.keys(c)){if(m.has(e))continue;if("never"===g){p.push(e);continue}let t=h.run({value:c[e],issues:[]},d);t instanceof Promise?f.push(t.then(t=>rC(t,u,e,c))):rC(t,u,e,c)}return(p.length&&u.issues.push({code:"unrecognized_keys",keys:p,input:c,inst:e}),f.length)?Promise.all(f).then(()=>u):u}});function rV(e,t,r,a){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let i=e.filter(e=>!e7(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>tt(e,a,eM())))}),t)}let r$=eU("$ZodUnion",(e,t)=>{t3.init(e,t),eY(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),eY(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),eY(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),eY(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>eG(e.source)).join("|")})$`)}});let r=1===t.options.length,a=t.options[0]._zod.run;e._zod.parse=(i,n)=>{if(r)return a(i,n);let s=!1,o=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},n);if(t instanceof Promise)o.push(t),s=!0;else{if(0===t.issues.length)return t;o.push(t)}}return s?Promise.all(o).then(t=>rV(t,i,e,n)):rV(o,i,e,n)}}),rI=eU("$ZodIntersection",(e,t)=>{t3.init(e,t),e._zod.parse=(e,r)=>{let a=e.value,i=t.left._zod.run({value:a,issues:[]},r),n=t.right._zod.run({value:a,issues:[]},r);return i instanceof Promise||n instanceof Promise?Promise.all([i,n]).then(([t,r])=>rF(e,t,r)):rF(e,i,n)}});function rF(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),e7(e))return e;let a=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(e4(t)&&e4(r)){let a=Object.keys(r),i=Object.keys(t).filter(e=>-1!==a.indexOf(e)),n={...t,...r};for(let a of i){let i=e(t[a],r[a]);if(!i.valid)return{valid:!1,mergeErrorPath:[a,...i.mergeErrorPath]};n[a]=i.data}return{valid:!0,data:n}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let a=[];for(let i=0;i<t.length;i++){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};a.push(n.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!a.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}let rT=eU("$ZodEnum",(e,t)=>{t3.init(e,t);let r=function(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}(t.entries),a=new Set(r);e._zod.values=a,e._zod.pattern=RegExp(`^(${r.filter(e=>e2.has(typeof e)).map(e=>"string"==typeof e?e5(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let n=t.value;return a.has(n)||t.issues.push({code:"invalid_value",values:r,input:n,inst:e}),t}}),rP=eU("$ZodTransform",(e,t)=>{t3.init(e,t),e._zod.parse=(e,r)=>{let a=t.transform(e.value,e);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(t=>(e.value=t,e));if(a instanceof Promise)throw new eL;return e.value=a,e}});function rZ(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let rO=eU("$ZodOptional",(e,t)=>{t3.init(e,t),e._zod.optin="optional",e._zod.optout="optional",eY(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),eY(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${eG(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let a=t.innerType._zod.run(e,r);return a instanceof Promise?a.then(t=>rZ(t,e.value)):rZ(a,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),rR=eU("$ZodNullable",(e,t)=>{t3.init(e,t),eY(e._zod,"optin",()=>t.innerType._zod.optin),eY(e._zod,"optout",()=>t.innerType._zod.optout),eY(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${eG(e.source)}|null)$`):void 0}),eY(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),rU=eU("$ZodDefault",(e,t)=>{t3.init(e,t),e._zod.optin="optional",eY(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if(void 0===e.value)return e.value=t.defaultValue,e;let a=t.innerType._zod.run(e,r);return a instanceof Promise?a.then(e=>rL(e,t)):rL(a,t)}});function rL(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let rq=eU("$ZodPrefault",(e,t)=>{t3.init(e,t),e._zod.optin="optional",eY(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),rM=eU("$ZodNonOptional",(e,t)=>{t3.init(e,t),eY(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,a)=>{let i=t.innerType._zod.run(r,a);return i instanceof Promise?i.then(t=>rB(t,e)):rB(i,e)}});function rB(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let rW=eU("$ZodCatch",(e,t)=>{t3.init(e,t),eY(e._zod,"optin",()=>t.innerType._zod.optin),eY(e._zod,"optout",()=>t.innerType._zod.optout),eY(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{let a=t.innerType._zod.run(e,r);return a instanceof Promise?a.then(a=>(e.value=a.value,a.issues.length&&(e.value=t.catchValue({...e,error:{issues:a.issues.map(e=>tt(e,r,eM()))},input:e.value}),e.issues=[]),e)):(e.value=a.value,a.issues.length&&(e.value=t.catchValue({...e,error:{issues:a.issues.map(e=>tt(e,r,eM()))},input:e.value}),e.issues=[]),e)}}),rG=eU("$ZodPipe",(e,t)=>{t3.init(e,t),eY(e._zod,"values",()=>t.in._zod.values),eY(e._zod,"optin",()=>t.in._zod.optin),eY(e._zod,"optout",()=>t.out._zod.optout),eY(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{let a=t.in._zod.run(e,r);return a instanceof Promise?a.then(e=>rH(e,t,r)):rH(a,t,r)}});function rH(e,t,r){return e.issues.length?e:t.out._zod.run({value:e.value,issues:e.issues},r)}let rY=eU("$ZodReadonly",(e,t)=>{t3.init(e,t),eY(e._zod,"propValues",()=>t.innerType._zod.propValues),eY(e._zod,"values",()=>t.innerType._zod.values),eY(e._zod,"optin",()=>t.innerType._zod.optin),eY(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{let a=t.innerType._zod.run(e,r);return a instanceof Promise?a.then(rJ):rJ(a)}});function rJ(e){return e.value=Object.freeze(e.value),e}let rQ=eU("$ZodCustom",(e,t)=>{tL.init(e,t),t3.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let a=r.value,i=t.fn(a);if(i instanceof Promise)return i.then(t=>rX(t,r,a,e));rX(i,r,a,e)}});function rX(e,t,r,a){if(!e){let e={code:"custom",input:r,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(e.params=a._zod.def.params),t.issues.push(ta(e))}}Symbol("ZodOutput"),Symbol("ZodInput");class rK{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}let r0=new rK;function r1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...e6(t)})}function r4(e,t){return new tM({check:"less_than",...e6(t),value:e,inclusive:!1})}function r2(e,t){return new tM({check:"less_than",...e6(t),value:e,inclusive:!0})}function r5(e,t){return new tB({check:"greater_than",...e6(t),value:e,inclusive:!1})}function r9(e,t){return new tB({check:"greater_than",...e6(t),value:e,inclusive:!0})}function r6(e,t){return new tW({check:"multiple_of",...e6(t),value:e})}function r3(e,t){return new tH({check:"max_length",...e6(t),maximum:e})}function r7(e,t){return new tY({check:"min_length",...e6(t),minimum:e})}function r8(e,t){return new tJ({check:"length_equals",...e6(t),length:e})}function ae(e){return new t5({check:"overwrite",tx:e})}let at=eU("ZodISODateTime",(e,t)=>{rc.init(e,t),ah.init(e,t)}),ar=eU("ZodISODate",(e,t)=>{rf.init(e,t),ah.init(e,t)}),aa=eU("ZodISOTime",(e,t)=>{rp.init(e,t),ah.init(e,t)}),ai=eU("ZodISODuration",(e,t)=>{rm.init(e,t),ah.init(e,t)}),an=(e,t)=>{tn.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>(function(e,t){let r=t||function(e){return e.message},a={_errors:[]},i=e=>{for(let t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>i({issues:e}));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)a._errors.push(r(t));else{let e=a,i=0;for(;i<t.path.length;){let a=t.path[i];i===t.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(r(t))):e[a]=e[a]||{_errors:[]},e=e[a],i++}}};return i(e),a})(e,t)},flatten:{value:t=>(function(e,t=e=>e.message){let r={},a=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):a.push(t(i));return{formErrors:a,fieldErrors:r}})(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,eB,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,eB,2)}},isEmpty:{get:()=>0===e.issues.length}})};eU("ZodError",an);let as=eU("ZodError",an,{Parent:Error}),ao=to(as),al=tu(as),au=tc(as),ad=tp(as),ac=eU("ZodType",(e,t)=>(t3.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>e9(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>ao(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>au(e,t,r),e.parseAsync=async(t,r)=>al(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>ad(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(function(e,t={}){return new a3({type:"custom",check:"custom",fn:e,...e6(t)})}(t,r)),e.superRefine=t=>e.check(function(e){let t=function(e,t){let r=new tL({check:"custom",...e6(void 0)});return r._zod.check=e,r}(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(ta(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(ta(e)))},e(r.value,r)));return t}(t)),e.overwrite=t=>e.check(ae(t)),e.optional=()=>aQ(e),e.nullable=()=>aK(e),e.nullish=()=>aQ(aK(e)),e.nonoptional=t=>new a4({type:"nonoptional",innerType:e,...e6(t)}),e.array=()=>aq(e),e.or=t=>{var r;return new aW({type:"union",options:[e,t],...e6(void 0)})},e.and=t=>new aG({type:"intersection",left:e,right:t}),e.transform=t=>a9(e,new aY({type:"transform",transform:t})),e.default=t=>(function(e,t){return new a0({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})})(e,t),e.prefault=t=>(function(e,t){return new a1({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})})(e,t),e.catch=t=>(function(e,t){return new a2({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})})(e,t),e.pipe=t=>a9(e,t),e.readonly=()=>new a6({type:"readonly",innerType:e}),e.describe=t=>{let r=e.clone();return r0.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>r0.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return r0.get(e);let r=e.clone();return r0.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),af=eU("_ZodString",(e,t)=>{t7.init(e,t),ac.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new tX({check:"string_format",format:"regex",...e6(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new t1({check:"string_format",format:"includes",...e6(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new t4({check:"string_format",format:"starts_with",...e6(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new t2({check:"string_format",format:"ends_with",...e6(t),suffix:e})}(...t)),e.min=(...t)=>e.check(r7(...t)),e.max=(...t)=>e.check(r3(...t)),e.length=(...t)=>e.check(r8(...t)),e.nonempty=(...t)=>e.check(r7(1,...t)),e.lowercase=t=>e.check(new tK({check:"string_format",format:"lowercase",...e6(t)})),e.uppercase=t=>e.check(new t0({check:"string_format",format:"uppercase",...e6(t)})),e.trim=()=>e.check(ae(e=>e.trim())),e.normalize=(...t)=>e.check(function(e){return ae(t=>t.normalize(e))}(...t)),e.toLowerCase=()=>e.check(ae(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(ae(e=>e.toUpperCase()))}),ap=eU("ZodString",(e,t)=>{t7.init(e,t),af.init(e,t),e.email=t=>e.check(new ag({type:"string",format:"email",check:"string_format",abort:!1,...e6(t)})),e.url=t=>e.check(new ax({type:"string",format:"url",check:"string_format",abort:!1,...e6(t)})),e.jwt=t=>e.check(new aI({type:"string",format:"jwt",check:"string_format",abort:!1,...e6(t)})),e.emoji=t=>e.check(new ab({type:"string",format:"emoji",check:"string_format",abort:!1,...e6(t)})),e.guid=t=>e.check(r1(ay,t)),e.uuid=t=>e.check(new av({type:"string",format:"uuid",check:"string_format",abort:!1,...e6(t)})),e.uuidv4=t=>e.check(new av({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...e6(t)})),e.uuidv6=t=>e.check(new av({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...e6(t)})),e.uuidv7=t=>e.check(new av({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...e6(t)})),e.nanoid=t=>e.check(new a_({type:"string",format:"nanoid",check:"string_format",abort:!1,...e6(t)})),e.guid=t=>e.check(r1(ay,t)),e.cuid=t=>e.check(new aw({type:"string",format:"cuid",check:"string_format",abort:!1,...e6(t)})),e.cuid2=t=>e.check(new aj({type:"string",format:"cuid2",check:"string_format",abort:!1,...e6(t)})),e.ulid=t=>e.check(new az({type:"string",format:"ulid",check:"string_format",abort:!1,...e6(t)})),e.base64=t=>e.check(new aD({type:"string",format:"base64",check:"string_format",abort:!1,...e6(t)})),e.base64url=t=>e.check(new aV({type:"string",format:"base64url",check:"string_format",abort:!1,...e6(t)})),e.xid=t=>e.check(new ak({type:"string",format:"xid",check:"string_format",abort:!1,...e6(t)})),e.ksuid=t=>e.check(new aN({type:"string",format:"ksuid",check:"string_format",abort:!1,...e6(t)})),e.ipv4=t=>e.check(new aA({type:"string",format:"ipv4",check:"string_format",abort:!1,...e6(t)})),e.ipv6=t=>e.check(new aE({type:"string",format:"ipv6",check:"string_format",abort:!1,...e6(t)})),e.cidrv4=t=>e.check(new aS({type:"string",format:"cidrv4",check:"string_format",abort:!1,...e6(t)})),e.cidrv6=t=>e.check(new aC({type:"string",format:"cidrv6",check:"string_format",abort:!1,...e6(t)})),e.e164=t=>e.check(new a$({type:"string",format:"e164",check:"string_format",abort:!1,...e6(t)})),e.datetime=t=>e.check(new at({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...e6(t)})),e.date=t=>e.check(new ar({type:"string",format:"date",check:"string_format",...e6(t)})),e.time=t=>e.check(new aa({type:"string",format:"time",check:"string_format",precision:null,...e6(t)})),e.duration=t=>e.check(new ai({type:"string",format:"duration",check:"string_format",...e6(t)}))});function am(e){return new ap({type:"string",...e6(e)})}let ah=eU("ZodStringFormat",(e,t)=>{t8.init(e,t),af.init(e,t)}),ag=eU("ZodEmail",(e,t)=>{rr.init(e,t),ah.init(e,t)}),ay=eU("ZodGUID",(e,t)=>{re.init(e,t),ah.init(e,t)}),av=eU("ZodUUID",(e,t)=>{rt.init(e,t),ah.init(e,t)}),ax=eU("ZodURL",(e,t)=>{ra.init(e,t),ah.init(e,t)}),ab=eU("ZodEmoji",(e,t)=>{ri.init(e,t),ah.init(e,t)}),a_=eU("ZodNanoID",(e,t)=>{rn.init(e,t),ah.init(e,t)}),aw=eU("ZodCUID",(e,t)=>{rs.init(e,t),ah.init(e,t)}),aj=eU("ZodCUID2",(e,t)=>{ro.init(e,t),ah.init(e,t)}),az=eU("ZodULID",(e,t)=>{rl.init(e,t),ah.init(e,t)}),ak=eU("ZodXID",(e,t)=>{ru.init(e,t),ah.init(e,t)}),aN=eU("ZodKSUID",(e,t)=>{rd.init(e,t),ah.init(e,t)}),aA=eU("ZodIPv4",(e,t)=>{rh.init(e,t),ah.init(e,t)}),aE=eU("ZodIPv6",(e,t)=>{rg.init(e,t),ah.init(e,t)}),aS=eU("ZodCIDRv4",(e,t)=>{ry.init(e,t),ah.init(e,t)}),aC=eU("ZodCIDRv6",(e,t)=>{rv.init(e,t),ah.init(e,t)}),aD=eU("ZodBase64",(e,t)=>{rb.init(e,t),ah.init(e,t)}),aV=eU("ZodBase64URL",(e,t)=>{r_.init(e,t),ah.init(e,t)}),a$=eU("ZodE164",(e,t)=>{rw.init(e,t),ah.init(e,t)}),aI=eU("ZodJWT",(e,t)=>{rj.init(e,t),ah.init(e,t)}),aF=eU("ZodNumber",(e,t)=>{rz.init(e,t),ac.init(e,t),e.gt=(t,r)=>e.check(r5(t,r)),e.gte=(t,r)=>e.check(r9(t,r)),e.min=(t,r)=>e.check(r9(t,r)),e.lt=(t,r)=>e.check(r4(t,r)),e.lte=(t,r)=>e.check(r2(t,r)),e.max=(t,r)=>e.check(r2(t,r)),e.int=t=>e.check(aZ(t)),e.safe=t=>e.check(aZ(t)),e.positive=t=>e.check(r5(0,t)),e.nonnegative=t=>e.check(r9(0,t)),e.negative=t=>e.check(r4(0,t)),e.nonpositive=t=>e.check(r2(0,t)),e.multipleOf=(t,r)=>e.check(r6(t,r)),e.step=(t,r)=>e.check(r6(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function aT(e){return new aF({type:"number",checks:[],...e6(e)})}let aP=eU("ZodNumberFormat",(e,t)=>{rk.init(e,t),aF.init(e,t)});function aZ(e){return new aP({type:"number",check:"number_format",abort:!1,format:"safeint",...e6(e)})}let aO=eU("ZodUnknown",(e,t)=>{rN.init(e,t),ac.init(e,t)});function aR(){return new aO({type:"unknown"})}let aU=eU("ZodNever",(e,t)=>{rA.init(e,t),ac.init(e,t)}),aL=eU("ZodArray",(e,t)=>{rS.init(e,t),ac.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(r7(t,r)),e.nonempty=t=>e.check(r7(1,t)),e.max=(t,r)=>e.check(r3(t,r)),e.length=(t,r)=>e.check(r8(t,r)),e.unwrap=()=>e.element});function aq(e,t){return new aL({type:"array",element:e,...e6(t)})}let aM=eU("ZodObject",(e,t)=>{rD.init(e,t),ac.init(e,t),eY(e,"shape",()=>t.shape),e.keyof=()=>(function(e,t){return new aH({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...e6(void 0)})})(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:aR()}),e.loose=()=>e.clone({...e._zod.def,catchall:aR()}),e.strict=()=>e.clone({...e._zod.def,catchall:new aU({type:"never",...e6(void 0)})}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>(function(e,t){if(!e4(t))throw Error("Invalid input to extend: expected a plain object");let r=eQ(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return eJ(this,"shape",r),r},checks:[]});return e9(e,r)})(e,t),e.merge=t=>(function(e,t){let r=eQ(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return eJ(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return e9(e,r)})(e,t),e.pick=t=>(function(e,t){let r=e._zod.def,a=eQ(e._zod.def,{get shape(){let e={};for(let a in t){if(!(a in r.shape))throw Error(`Unrecognized key: "${a}"`);t[a]&&(e[a]=r.shape[a])}return eJ(this,"shape",e),e},checks:[]});return e9(e,a)})(e,t),e.omit=t=>(function(e,t){let r=e._zod.def,a=eQ(e._zod.def,{get shape(){let a={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete a[e]}return eJ(this,"shape",a),a},checks:[]});return e9(e,a)})(e,t),e.partial=(...t)=>(function(e,t,r){let a=eQ(t._zod.def,{get shape(){let a=t._zod.def.shape,i={...a};if(r)for(let t in r){if(!(t in a))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=e?new e({type:"optional",innerType:a[t]}):a[t])}else for(let t in a)i[t]=e?new e({type:"optional",innerType:a[t]}):a[t];return eJ(this,"shape",i),i},checks:[]});return e9(t,a)})(aJ,e,t[0]),e.required=(...t)=>(function(e,t,r){let a=eQ(t._zod.def,{get shape(){let a=t._zod.def.shape,i={...a};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=new e({type:"nonoptional",innerType:a[t]}))}else for(let t in a)i[t]=new e({type:"nonoptional",innerType:a[t]});return eJ(this,"shape",i),i},checks:[]});return e9(t,a)})(a4,e,t[0])});function aB(e,t){return new aM({type:"object",get shape(){return eJ(this,"shape",{...e}),this.shape},...e6(t)})}let aW=eU("ZodUnion",(e,t)=>{r$.init(e,t),ac.init(e,t),e.options=t.options}),aG=eU("ZodIntersection",(e,t)=>{rI.init(e,t),ac.init(e,t)}),aH=eU("ZodEnum",(e,t)=>{rT.init(e,t),ac.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,a)=>{let i={};for(let a of e)if(r.has(a))i[a]=t.entries[a];else throw Error(`Key ${a} not found in enum`);return new aH({...t,checks:[],...e6(a),entries:i})},e.exclude=(e,a)=>{let i={...t.entries};for(let t of e)if(r.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new aH({...t,checks:[],...e6(a),entries:i})}}),aY=eU("ZodTransform",(e,t)=>{rP.init(e,t),ac.init(e,t),e._zod.parse=(r,a)=>{r.addIssue=a=>{"string"==typeof a?r.issues.push(ta(a,r.value,t)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=e),r.issues.push(ta(a)))};let i=t.transform(r.value,r);return i instanceof Promise?i.then(e=>(r.value=e,r)):(r.value=i,r)}}),aJ=eU("ZodOptional",(e,t)=>{rO.init(e,t),ac.init(e,t),e.unwrap=()=>e._zod.def.innerType});function aQ(e){return new aJ({type:"optional",innerType:e})}let aX=eU("ZodNullable",(e,t)=>{rR.init(e,t),ac.init(e,t),e.unwrap=()=>e._zod.def.innerType});function aK(e){return new aX({type:"nullable",innerType:e})}let a0=eU("ZodDefault",(e,t)=>{rU.init(e,t),ac.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}),a1=eU("ZodPrefault",(e,t)=>{rq.init(e,t),ac.init(e,t),e.unwrap=()=>e._zod.def.innerType}),a4=eU("ZodNonOptional",(e,t)=>{rM.init(e,t),ac.init(e,t),e.unwrap=()=>e._zod.def.innerType}),a2=eU("ZodCatch",(e,t)=>{rW.init(e,t),ac.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}),a5=eU("ZodPipe",(e,t)=>{rG.init(e,t),ac.init(e,t),e.in=t.in,e.out=t.out});function a9(e,t){return new a5({type:"pipe",in:e,out:t})}let a6=eU("ZodReadonly",(e,t)=>{rY.init(e,t),ac.init(e,t),e.unwrap=()=>e._zod.def.innerType}),a3=eU("ZodCustom",(e,t)=>{rQ.init(e,t),ac.init(e,t)});var a7=r(772),a8=r(6384),ie=r(4474),it=r(7863);let ir=i.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:(0,it.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ir.displayName="Textarea";var ia=r(4214),ii=r(1048);let is=e=>{let{children:t,...r}=e;return i.createElement(S.Provider,{value:r},t)},io=i.createContext({}),il=({...e})=>a.jsx(io.Provider,{value:{name:e.name},children:a.jsx(P,{...e})}),iu=()=>{let e=i.useContext(io),t=i.useContext(id),{getFieldState:r,formState:a}=C(),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...n}},id=i.createContext({}),ic=i.forwardRef(({className:e,...t},r)=>{let n=i.useId();return a.jsx(id.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:(0,it.cn)("space-y-2",e),...t})})});ic.displayName="FormItem";let ip=i.forwardRef(({className:e,...t},r)=>{let{error:i,formItemId:n}=iu();return a.jsx(ii._,{ref:r,className:(0,it.cn)(i&&"text-destructive",e),htmlFor:n,...t})});ip.displayName="FormLabel";let im=i.forwardRef(({...e},t)=>{let{error:r,formItemId:i,formDescriptionId:n,formMessageId:s}=iu();return a.jsx(ia.g7,{ref:t,id:i,"aria-describedby":r?`${n} ${s}`:`${n}`,"aria-invalid":!!r,...e})});im.displayName="FormControl",i.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:i}=iu();return a.jsx("p",{ref:r,id:i,className:(0,it.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let ih=i.forwardRef(({className:e,children:t,...r},i)=>{let{error:n,formMessageId:s}=iu(),o=n?String(n?.message??""):t;return o?a.jsx("p",{ref:i,id:s,className:(0,it.cn)("text-sm font-medium text-destructive",e),...r,children:o}):null});ih.displayName="FormMessage";var ig=r(4762),iy=r(2771),iv=r(8588),ix=r(5649);let ib=aB({companyId:am().min(1,"La empresa es requerida."),status:new aH({type:"enum",entries:iy.gS,...e6(void 0)}),quoteDate:am().min(1,"La fecha es requerida."),expiryDate:am().optional(),notes:am().optional(),items:aq(aB({productId:am().min(1,"El producto es requerido."),quantity:aT().min(1,"La cantidad debe ser al menos 1."),unitPrice:aT(),totalPrice:aT(),itemVatAmount:aT(),totalPriceWithVat:aT()})).min(1,"Debe haber al menos un \xedtem en la cotizaci\xf3n."),subTotalAmount:aT(),vatAmount:aT(),grandTotal:aT()}),i_=({quoteData:e,onSave:t,onCancel:r})=>{let[n,s]=(0,i.useState)([]),[c,m]=(0,i.useState)([]),g=function(e={}){let t=i.useRef(void 0),r=i.useRef(void 0),[a,n]=i.useState({isDirty:!1,isValidating:!1,isLoading:q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:q(e.defaultValues)?void 0:e.defaultValues});if(!t.current){if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:r,...i}=function(e={}){let t,r={...ek,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:q(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=(f(r.defaultValues)||f(r.values))&&v(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:v(n),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m=0,g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={...g},w={array:R(),state:R()},E=r.criteriaMode===A.all,S=e=>t=>{clearTimeout(m),m=setTimeout(e,t)},C=async e=>{if(!r.disabled&&(g.isValid||x.isValid||e)){let e=r.resolver?U((await W()).errors):await Q(i,!0);e!==a.isValid&&w.state.next({isValid:e})}},D=(e,t)=>{!r.disabled&&(g.isValidating||g.validatingFields||x.isValidating||x.validatingFields)&&((e||Array.from(c.mount)).forEach(e=>{e&&(t?k(a.validatingFields,e,t):Y(a.validatingFields,e))}),w.state.next({validatingFields:a.validatingFields,isValidating:!U(a.validatingFields)}))},V=(e,t)=>{k(a.errors,e,t),w.state.next({errors:a.errors})},F=(e,t,r,a)=>{let l=j(i,e);if(l){let i=j(s,e,b(r)?j(n,e):r);b(i)||a&&a.defaultChecked||t?k(s,e,t?i:en(l._f)):et(e,i),o.mount&&C()}},P=(e,t,i,s,o)=>{let l=!1,u=!1,d={name:e};if(!r.disabled){if(!i||s){(g.isDirty||x.isDirty)&&(u=a.isDirty,a.isDirty=d.isDirty=K(),l=u!==d.isDirty);let r=T(j(n,e),t);u=!!j(a.dirtyFields,e),r?Y(a.dirtyFields,e):k(a.dirtyFields,e,!0),d.dirtyFields=a.dirtyFields,l=l||(g.dirtyFields||x.dirtyFields)&&!r!==u}if(i){let t=j(a.touchedFields,e);t||(k(a.touchedFields,e,i),d.touchedFields=a.touchedFields,l=l||(g.touchedFields||x.touchedFields)&&t!==i)}l&&o&&w.state.next(d)}return l?d:{}},Z=(e,i,n,s)=>{let o=j(a.errors,e),l=(g.isValid||x.isValid)&&z(i)&&a.isValid!==i;if(r.delayError&&n?(t=S(()=>V(e,n)))(r.delayError):(clearTimeout(m),t=null,n?k(a.errors,e,n):Y(a.errors,e)),(n?!T(o,n):o)||!U(s)||l){let t={...s,...l&&z(i)?{isValid:i}:{},errors:a.errors,name:e};a={...a,...t},w.state.next(t)}},W=async e=>{D(e,!0);let t=await r.resolver(s,r.context,es(e||c.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return D(e),t},J=async e=>{let{errors:t}=await W(e);if(e)for(let r of e){let e=j(t,r);e?k(a.errors,r,e):Y(a.errors,r)}else a.errors=t;return t},Q=async(e,t,i={valid:!0})=>{for(let n in e){let o=e[n];if(o){let{_f:e,...l}=o;if(e){let l=c.array.has(e.name),u=o._f&&ec(o._f);u&&g.validatingFields&&D([n],!0);let d=await ez(o,c.disabled,s,E,r.shouldUseNativeValidation&&!t,l);if(u&&g.validatingFields&&D([n]),d[e.name]&&(i.valid=!1,t))break;t||(j(d,e.name)?l?eb(a.errors,d,e.name):k(a.errors,e.name,d[e.name]):Y(a.errors,e.name))}U(l)||await Q(l,t,i)}}return i.valid},K=(e,t)=>!r.disabled&&(e&&t&&k(s,e,t),!T(ew(),n)),ee=(e,t,r)=>I(e,c,{...o.mount?s:b(t)?n:$(e)?{[e]:t}:t},r,t),et=(e,t,r={})=>{let a=j(i,e),n=t;if(a){let r=a._f;r&&(r.disabled||k(s,e,er(t,r)),n=M(r.ref)&&d(t)?"":t,B(r.ref)?[...r.ref.options].forEach(e=>e.selected=n.includes(e.value)):r.refs?l(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(n)?e.checked=!!n.find(t=>t===e.value):e.checked=n===e.value||!!n)}):r.refs.forEach(e=>e.checked=e.value===n):L(r.ref)?r.ref.value="":(r.ref.value=n,r.ref.type||w.state.next({name:e,values:v(s)})))}(r.shouldDirty||r.shouldTouch)&&P(e,n,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&e_(e)},ea=(e,t,r)=>{for(let a in t){if(!t.hasOwnProperty(a))return;let n=t[a],s=e+"."+a,o=j(i,s);(c.array.has(e)||f(n)||o&&!o._f)&&!u(n)?ea(s,n,r):et(s,n,r)}},ei=(e,t,r={})=>{let l=j(i,e),u=c.array.has(e),f=v(t);k(s,e,f),u?(w.array.next({name:e,values:v(s)}),(g.isDirty||g.dirtyFields||x.isDirty||x.dirtyFields)&&r.shouldDirty&&w.state.next({name:e,dirtyFields:X(n,s),isDirty:K(e,f)})):!l||l._f||d(f)?et(e,f,r):ea(e,f,r),ep(e,c)&&w.state.next({...a,name:e}),w.state.next({name:o.mount?e:void 0,values:v(s)})},eo=async e=>{o.mount=!0;let n=e.target,l=n.name,d=!0,f=j(i,l),m=e=>{d=Number.isNaN(e)||u(e)&&isNaN(e.getTime())||T(e,j(s,l,e))},h=eu(r.mode),y=eu(r.reValidateMode);if(f){let o,u;let b=n.type?en(f._f):p(e),_=e.type===N.BLUR||e.type===N.FOCUS_OUT,z=!ef(f._f)&&!r.resolver&&!j(a.errors,l)&&!f._f.deps||ev(_,j(a.touchedFields,l),a.isSubmitted,y,h),A=ep(l,c,_);k(s,l,b),_?(f._f.onBlur&&f._f.onBlur(e),t&&t(0)):f._f.onChange&&f._f.onChange(e);let S=P(l,b,_),V=!U(S)||A;if(_||w.state.next({name:l,type:e.type,values:v(s)}),z)return(g.isValid||x.isValid)&&("onBlur"===r.mode?_&&C():_||C()),V&&w.state.next({name:l,...A?{}:S});if(!_&&A&&w.state.next({...a}),r.resolver){let{errors:e}=await W([l]);if(m(b),d){let t=eh(a.errors,i,l),r=eh(e,i,t.name||l);o=r.error,l=r.name,u=U(e)}}else D([l],!0),o=(await ez(f,c.disabled,s,E,r.shouldUseNativeValidation))[l],D([l]),m(b),d&&(o?u=!1:(g.isValid||x.isValid)&&(u=await Q(i,!0)));d&&(f._f.deps&&e_(f._f.deps),Z(l,u,o,S))}},ed=(e,t)=>{if(j(a.errors,t)&&e.focus)return e.focus(),1},e_=async(e,t={})=>{let n,s;let o=O(e);if(r.resolver){let t=await J(b(e)?e:o);n=U(t),s=e?!o.some(e=>j(t,e)):n}else e?((s=(await Promise.all(o.map(async e=>{let t=j(i,e);return await Q(t&&t._f?{[e]:t}:t)}))).every(Boolean))||a.isValid)&&C():s=n=await Q(i);return w.state.next({...!$(e)||(g.isValid||x.isValid)&&n!==a.isValid?{}:{name:e},...r.resolver||!e?{isValid:n}:{},errors:a.errors}),t.shouldFocus&&!s&&em(i,ed,e?o:c.mount),s},ew=e=>{let t={...o.mount?s:n};return b(e)?t:$(e)?j(t,e):e.map(e=>j(t,e))},ej=(e,t)=>({invalid:!!j((t||a).errors,e),isDirty:!!j((t||a).dirtyFields,e),error:j((t||a).errors,e),isValidating:!!j(a.validatingFields,e),isTouched:!!j((t||a).touchedFields,e)}),eN=(e,t,r)=>{let n=(j(i,e,{_f:{}})._f||{}).ref,{ref:s,message:o,type:l,...u}=j(a.errors,e)||{};k(a.errors,e,{...u,...t,ref:n}),w.state.next({name:e,errors:a.errors,isValid:!1}),r&&r.shouldFocus&&n&&n.focus&&n.focus()},eA=e=>w.state.subscribe({next:t=>{ey(e.name,t.name,e.exact)&&eg(t,e.formState||g,eF,e.reRenderRoot)&&e.callback({values:{...s},...a,...t,defaultValues:n})}}).unsubscribe,eE=(e,t={})=>{for(let o of e?O(e):c.mount)c.mount.delete(o),c.array.delete(o),t.keepValue||(Y(i,o),Y(s,o)),t.keepError||Y(a.errors,o),t.keepDirty||Y(a.dirtyFields,o),t.keepTouched||Y(a.touchedFields,o),t.keepIsValidating||Y(a.validatingFields,o),r.shouldUnregister||t.keepDefaultValue||Y(n,o);w.state.next({values:v(s)}),w.state.next({...a,...t.keepDirty?{isDirty:K()}:{}}),t.keepIsValid||C()},eS=({disabled:e,name:t})=>{(z(e)&&o.mount||e||c.disabled.has(t))&&(e?c.disabled.add(t):c.disabled.delete(t))},eC=(e,t={})=>{let a=j(i,e),s=z(t.disabled)||z(r.disabled);return k(i,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),c.mount.add(e),a?eS({disabled:z(t.disabled)?t.disabled:r.disabled,name:e}):F(e,!0,t.value),{...s?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:el(t.min),max:el(t.max),minLength:el(t.minLength),maxLength:el(t.maxLength),pattern:el(t.pattern)}:{},name:e,onChange:eo,onBlur:eo,ref:s=>{if(s){eC(e,t),a=j(i,e);let r=b(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,o=G(r),l=a._f.refs||[];(o?l.find(e=>e===r):r===a._f.ref)||(k(i,e,{_f:{...a._f,...o?{refs:[...l.filter(H),r,...Array.isArray(j(n,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),F(e,!1,void 0,r))}else(a=j(i,e,{}))._f&&(a._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&!(h(c.array,e)&&o.action)&&c.unMount.add(e)}}},eD=()=>r.shouldFocusError&&em(i,ed,c.mount),eV=(e,t)=>async n=>{let o;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let l=v(s);if(w.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await W();a.errors=e,l=v(t)}else await Q(i);if(c.disabled.size)for(let e of c.disabled)Y(l,e);if(Y(a.errors,"root"),U(a.errors)){w.state.next({errors:{}});try{await e(l,n)}catch(e){o=e}}else t&&await t({...a.errors},n),eD(),setTimeout(eD);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(a.errors)&&!o,submitCount:a.submitCount+1,errors:a.errors}),o)throw o},e$=(e,t={})=>{let l=e?v(e):n,u=v(l),d=U(e),f=d?n:u;if(t.keepDefaultValues||(n=l),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...c.mount,...Object.keys(X(n,s))])))j(a.dirtyFields,e)?k(f,e,j(s,e)):ei(e,j(f,e));else{if(y&&b(e))for(let e of c.mount){let t=j(i,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(M(e)){let t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(let e of c.mount)ei(e,j(f,e));else i={}}s=r.shouldUnregister?t.keepDefaultValues?v(n):{}:v(f),w.array.next({values:{...f}}),w.state.next({values:{...f}})}c={mount:t.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!g.isValid||!!t.keepIsValid||!!t.keepDirtyValues,o.watch=!!r.shouldUnregister,w.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!d&&(t.keepDirty?a.isDirty:!!(t.keepDefaultValues&&!T(e,n))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:d?{}:t.keepDirtyValues?t.keepDefaultValues&&s?X(n,s):a.dirtyFields:t.keepDefaultValues&&e?X(n,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1})},eI=(e,t)=>e$(q(e)?e(s):e,t),eF=e=>{a={...a,...e}},eT={control:{register:eC,unregister:eE,getFieldState:ej,handleSubmit:eV,setError:eN,_subscribe:eA,_runSchema:W,_focusError:eD,_getWatch:ee,_getDirty:K,_setValid:C,_setFieldArray:(e,t=[],l,u,d=!0,c=!0)=>{if(u&&l&&!r.disabled){if(o.action=!0,c&&Array.isArray(j(i,e))){let t=l(j(i,e),u.argA,u.argB);d&&k(i,e,t)}if(c&&Array.isArray(j(a.errors,e))){let t=l(j(a.errors,e),u.argA,u.argB);d&&k(a.errors,e,t),ex(a.errors,e)}if((g.touchedFields||x.touchedFields)&&c&&Array.isArray(j(a.touchedFields,e))){let t=l(j(a.touchedFields,e),u.argA,u.argB);d&&k(a.touchedFields,e,t)}(g.dirtyFields||x.dirtyFields)&&(a.dirtyFields=X(n,s)),w.state.next({name:e,isDirty:K(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else k(s,e,t)},_setDisabledField:eS,_setErrors:e=>{a.errors=e,w.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>_(j(o.mount?s:n,e,r.shouldUnregister?j(n,e,[]):[])),_reset:e$,_resetDefaultValues:()=>q(r.defaultValues)&&r.defaultValues().then(e=>{eI(e,r.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of c.unMount){let t=j(i,e);t&&(t._f.refs?t._f.refs.every(e=>!H(e)):!H(t._f.ref))&&eE(e)}c.unMount=new Set},_disableForm:e=>{z(e)&&(w.state.next({disabled:e}),em(i,(t,r)=>{let a=j(i,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:w,_proxyFormState:g,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(value){o=value},get _defaultValues(){return n},get _names(){return c},set _names(value){c=value},get _formState(){return a},get _options(){return r},set _options(value){r={...r,...value}}},subscribe:e=>(o.mount=!0,x={...x,...e.formState},eA({...e,formState:x})),trigger:e_,register:eC,handleSubmit:eV,watch:(e,t)=>q(e)?w.state.subscribe({next:r=>"values"in r&&e(ee(void 0,t),r)}):ee(e,t,!0),setValue:ei,getValues:ew,reset:eI,resetField:(e,t={})=>{j(i,e)&&(b(t.defaultValue)?ei(e,v(j(n,e))):(ei(e,t.defaultValue),k(n,e,v(t.defaultValue))),t.keepTouched||Y(a.touchedFields,e),t.keepDirty||(Y(a.dirtyFields,e),a.isDirty=t.defaultValue?K(e,v(j(n,e))):K()),!t.keepError&&(Y(a.errors,e),g.isValid&&C()),w.state.next({...a}))},clearErrors:e=>{e&&O(e).forEach(e=>Y(a.errors,e)),w.state.next({errors:e?a.errors:{}})},unregister:eE,setError:eN,setFocus:(e,t={})=>{let r=j(i,e),a=r&&r._f;if(a){let e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&q(e.select)&&e.select())}},getFieldState:ej};return{...eT,formControl:eT}}(e);t.current={...i,formState:a}}}let s=t.current.control;return s._options=e,V(()=>{let e=s._subscribe({formState:s._proxyFormState,callback:()=>n({...s._formState}),reRenderRoot:!0});return n(e=>({...e,isReady:!0})),s._formState.isReady=!0,e},[s]),i.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),i.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),i.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),i.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),i.useEffect(()=>{if(s._proxyFormState.isDirty){let e=s._getDirty();e!==a.isDirty&&s._subjects.state.next({isDirty:e})}},[s,a.isDirty]),i.useEffect(()=>{e.values&&!T(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,n(e=>({...e}))):s._resetDefaultValues()},[s,e.values]),i.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=D(a,s),t.current}({resolver:function(e,t,r){if(void 0===r&&(r={}),"_def"in e&&"object"==typeof e._def&&"typeName"in e._def)return function(t,a,i){try{return Promise.resolve(th(function(){return Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](t,void 0)).then(function(e){return i.shouldUseNativeValidation&&eP({},i),{errors:{},values:r.raw?Object.assign({},t):e}})},function(e){if(Array.isArray(null==e?void 0:e.issues))return{values:{},errors:eZ(function(e,t){for(var r={};e.length;){var a=e[0],i=a.code,n=a.message,s=a.path.join(".");if(!r[s]){if("unionErrors"in a){var o=a.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:n,type:i}}if("unionErrors"in a&&a.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[s].types,u=l&&l[a.code];r[s]=Z(s,t,r,i,u?[].concat(u,a.message):a.message)}e.shift()}return r}(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}};if("_zod"in e&&"object"==typeof e._zod)return function(t,a,i){try{return Promise.resolve(th(function(){return Promise.resolve(("sync"===r.mode?tl:td)(e,t,void 0)).then(function(e){return i.shouldUseNativeValidation&&eP({},i),{errors:{},values:r.raw?Object.assign({},t):e}})},function(e){if(e instanceof tn)return{values:{},errors:eZ(function(e,t){for(var r={};e.length;){var a=e[0],i=a.code,n=a.message,s=a.path.join(".");if(!r[s]){if("invalid_union"===a.code&&a.errors.length>0){var o=a.errors[0][0];r[s]={message:o.message,type:o.code}}else r[s]={message:n,type:i}}if("invalid_union"===a.code&&a.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=r[s].types,u=l&&l[a.code];r[s]=Z(s,t,r,i,u?[].concat(u,a.message):a.message)}e.shift()}return r}(e.issues,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}};throw Error("Invalid input: not a Zod schema")}(ib),defaultValues:e?{companyId:e.companyId,status:e.status,quoteDate:e.quoteDate?new Date(e.quoteDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expiryDate:e.expiryDate?new Date(e.expiryDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],items:e.items||[],notes:e.notes||""}:{companyId:"",status:iy.gS.DRAFT,quoteDate:new Date().toISOString().split("T")[0],expiryDate:new Date().toISOString().split("T")[0],notes:"",items:[]}}),{fields:x,append:w,remove:E}=function(e){let t=C(),{control:r=t.control,name:a,keyName:n="id",shouldUnregister:s,rules:o}=e,[l,u]=i.useState(r._getFieldArray(a)),d=i.useRef(r._getFieldArray(a).map(eN)),c=i.useRef(l),f=i.useRef(!1);c.current=l,r._names.array.add(a),i.useMemo(()=>o&&r.register(a,o),[r,o,a]),V(()=>r._subjects.array.subscribe({next:({values:e,name:t})=>{if(t===a||!t){let t=j(e,a);Array.isArray(t)&&(u(t),d.current=t.map(eN))}}}).unsubscribe,[r,a]);let p=i.useCallback(e=>{f.current=!0,r._setFieldArray(a,e)},[r,a]);return i.useEffect(()=>{if(r._state.action=!1,ep(a,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!eu(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!eu(r._options.reValidateMode).isOnSubmit){if(r._options.resolver)r._runSchema([a]).then(e=>{let t=j(e.errors,a),i=j(r._formState.errors,a);(i?!t&&i.type||t&&(i.type!==t.type||i.message!==t.message):t&&t.type)&&(t?k(r._formState.errors,a,t):Y(r._formState.errors,a),r._subjects.state.next({errors:r._formState.errors}))});else{let e=j(r._fields,a);e&&e._f&&!(eu(r._options.reValidateMode).isOnSubmit&&eu(r._options.mode).isOnSubmit)&&ez(e,r._names.disabled,r._formValues,r._options.criteriaMode===A.all,r._options.shouldUseNativeValidation,!0).then(e=>!U(e)&&r._subjects.state.next({errors:eb(r._formState.errors,e,a)}))}}r._subjects.state.next({name:a,values:v(r._formValues)}),r._names.focus&&em(r._fields,(e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus)return e.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[l,a,r]),i.useEffect(()=>(j(r._formValues,a)||r._setFieldArray(a),()=>{r._options.shouldUnregister||s?r.unregister(a):((e,t)=>{let a=j(r._fields,e);a&&a._f&&(a._f.mount=t)})(a,!1)}),[a,r,n,s]),{swap:i.useCallback((e,t)=>{let i=r._getFieldArray(a);eI(i,e,t),eI(d.current,e,t),p(i),u(i),r._setFieldArray(a,i,eI,{argA:e,argB:t},!1)},[p,a,r]),move:i.useCallback((e,t)=>{let i=r._getFieldArray(a);eD(i,e,t),eD(d.current,e,t),p(i),u(i),r._setFieldArray(a,i,eD,{argA:e,argB:t},!1)},[p,a,r]),prepend:i.useCallback((e,t)=>{let i=O(v(e)),n=eV(r._getFieldArray(a),i);r._names.focus=eA(a,0,t),d.current=eV(d.current,i.map(eN)),p(n),u(n),r._setFieldArray(a,n,eV,{argA:eS(e)})},[p,a,r]),append:i.useCallback((e,t)=>{let i=O(v(e)),n=eE(r._getFieldArray(a),i);r._names.focus=eA(a,n.length-1,t),d.current=eE(d.current,i.map(eN)),p(n),u(n),r._setFieldArray(a,n,eE,{argA:eS(e)})},[p,a,r]),remove:i.useCallback(e=>{let t=e$(r._getFieldArray(a),e);d.current=e$(d.current,e),p(t),u(t),Array.isArray(j(r._fields,a))||k(r._fields,a,void 0),r._setFieldArray(a,t,e$,{argA:e})},[p,a,r]),insert:i.useCallback((e,t,i)=>{let n=O(v(t)),s=eC(r._getFieldArray(a),e,n);r._names.focus=eA(a,e,i),d.current=eC(d.current,e,n.map(eN)),p(s),u(s),r._setFieldArray(a,s,eC,{argA:e,argB:eS(t)})},[p,a,r]),update:i.useCallback((e,t)=>{let i=v(t),n=eF(r._getFieldArray(a),e,i);d.current=[...n].map((t,r)=>t&&r!==e?d.current[r]:eN()),p(n),u([...n]),r._setFieldArray(a,n,eF,{argA:e,argB:i},!0,!1)},[p,a,r]),replace:i.useCallback(e=>{let t=O(v(e));d.current=t.map(eN),p([...t]),u([...t]),r._setFieldArray(a,[...t],e=>e,{},!0,!1)},[p,a,r]),fields:i.useMemo(()=>l.map((e,t)=>({...e,[n]:d.current[t]||eN()})),[l,n])}}({control:g.control,name:"items"}),S=(0,i.useCallback)(async()=>{try{let e=await iv.J.getAllCompanies(1,100,{isClient:!0});s(e.data);let t=await ix.M.getAllProducts("1",1e3);m(t.data)}catch(e){console.error("Error fetching companies or products",e)}},[]);(0,i.useEffect)(()=>{S()},[S]);let F=(0,i.useCallback)(()=>{let e=g.getValues("items"),t=0;e.forEach((e,r)=>{let a=c.find(t=>t.id===e.productId);if(a){let i=parseFloat(g.getValues(`items.${r}.unitPrice`)||a.price)*e.quantity,n=.19*i;g.setValue(`items.${r}.totalPrice`,i,{shouldValidate:!0}),g.setValue(`items.${r}.itemVatAmount`,n,{shouldValidate:!0}),g.setValue(`items.${r}.totalPriceWithVat`,i+n,{shouldValidate:!0}),t+=i}});let r=.19*t,a=t+r;g.setValue("subTotalAmount",t,{shouldValidate:!0}),g.setValue("vatAmount",r,{shouldValidate:!0}),g.setValue("grandTotal",a,{shouldValidate:!0})},[g,c]);return(0,i.useEffect)(()=>{let e=g.watch((e,{name:t,type:r})=>{t?.startsWith("items")&&F()});return()=>e.unsubscribe()},[g,F]),a.jsx(is,{...g,children:(0,a.jsxs)("form",{onSubmit:g.handleSubmit(e=>{t(e)}),className:"space-y-8",children:[(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:a.jsx(o.ll,{children:e?"Editar Cotizaci\xf3n":"Crear Cotizaci\xf3n"})}),(0,a.jsxs)(o.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(il,{control:g.control,name:"companyId",render:({field:e})=>(0,a.jsxs)(ic,{children:[a.jsx(ip,{children:"Empresa"}),(0,a.jsxs)(ie.Ph,{onValueChange:e.onChange,defaultValue:e.value,children:[a.jsx(im,{children:a.jsx(ie.i4,{children:a.jsx(ie.ki,{placeholder:"Seleccione una empresa"})})}),a.jsx(ie.Bw,{children:n&&n.map(e=>a.jsx(ie.Ql,{value:e.id,children:e.name},e.id))})]}),a.jsx(ih,{})]})}),a.jsx(il,{control:g.control,name:"status",render:({field:e})=>(0,a.jsxs)(ic,{children:[a.jsx(ip,{children:"Estado"}),(0,a.jsxs)(ie.Ph,{onValueChange:e.onChange,defaultValue:e.value,children:[a.jsx(im,{children:a.jsx(ie.i4,{children:a.jsx(ie.ki,{placeholder:"Seleccione un estado"})})}),a.jsx(ie.Bw,{children:Object.values(iy.gS).map(e=>a.jsx(ie.Ql,{value:e,children:e},e))})]}),a.jsx(ih,{})]})}),a.jsx(il,{control:g.control,name:"quoteDate",render:({field:e})=>(0,a.jsxs)(ic,{children:[a.jsx(ip,{children:"Fecha de Cotizaci\xf3n"}),a.jsx(im,{children:a.jsx(a8.I,{type:"date",...e})}),a.jsx(ih,{})]})}),a.jsx(il,{control:g.control,name:"expiryDate",render:({field:e})=>(0,a.jsxs)(ic,{children:[a.jsx(ip,{children:"Fecha de Vencimiento"}),a.jsx(im,{children:a.jsx(a8.I,{type:"date",...e})}),a.jsx(ih,{})]})})]}),a.jsx(il,{control:g.control,name:"notes",render:({field:e})=>(0,a.jsxs)(ic,{children:[a.jsx(ip,{children:"Notas"}),a.jsx(im,{children:a.jsx(ir,{placeholder:"Notas adicionales sobre la cotizaci\xf3n",...e})}),a.jsx(ih,{})]})})]})]}),(0,a.jsxs)(o.Zb,{children:[a.jsx(o.Ol,{children:a.jsx(o.ll,{children:"\xcdtems de la Cotizaci\xf3n"})}),(0,a.jsxs)(o.aY,{children:[x.map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4 items-center",children:[a.jsx(il,{control:g.control,name:`items.${t}.productId`,render:({field:e})=>a.jsx(ic,{className:"col-span-2",children:(0,a.jsxs)(ie.Ph,{onValueChange:r=>{e.onChange(r);let a=c.find(e=>e.id===r);g.setValue(`items.${t}.unitPrice`,parseFloat(a?.price||"0"))},defaultValue:e.value,children:[a.jsx(im,{children:a.jsx(ie.i4,{children:a.jsx(ie.ki,{placeholder:"Seleccione un producto"})})}),a.jsx(ie.Bw,{children:c.map(e=>a.jsx(ie.Ql,{value:e.id,children:e.name},e.id))})]})})}),a.jsx(il,{control:g.control,name:`items.${t}.quantity`,render:({field:e})=>a.jsx(ic,{children:a.jsx(a8.I,{type:"number",placeholder:"Cantidad",...e,onChange:t=>e.onChange(parseInt(t.target.value,10)||0)})})}),a.jsx(il,{control:g.control,name:`items.${t}.unitPrice`,render:({field:e})=>a.jsx(ic,{children:a.jsx(a8.I,{type:"text",placeholder:"Precio Unit.",...e,onChange:t=>e.onChange((0,it.LH)(t.target.value)),value:(0,it.eQ)(e.value)})})}),a.jsx(a7.z,{type:"button",variant:"outline",onClick:()=>E(t),children:a.jsx(ig.XH,{className:"w-4 h-4"})})]},e.id)),(0,a.jsxs)(a7.z,{type:"button",variant:"outline",onClick:()=>w({productId:"",quantity:1,unitPrice:0,totalPrice:0,itemVatAmount:0,totalPriceWithVat:0}),children:[a.jsx(ig.pO,{className:"w-4 h-4 mr-2"}),"A\xf1adir \xcdtem"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[a.jsx(a7.z,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),a.jsx(a7.z,{type:"submit",children:"Guardar Cotizaci\xf3n"})]})]})})};var iw=r(2288),ij=r(5940);let iz=({quote:e,onClose:t})=>a.jsx(iw.Vq,{open:!0,onOpenChange:t,children:(0,a.jsxs)(iw.cZ,{className:"max-w-3xl",children:[(0,a.jsxs)(iw.fK,{children:[(0,a.jsxs)(iw.$N,{children:["Detalle de Cotizaci\xf3n - ID: ",e.id.substring(0,8),"..."]}),a.jsx(iw.Be,{children:"Aqu\xed puedes ver los detalles completos de la cotizaci\xf3n seleccionada, incluyendo informaci\xf3n de la empresa, fechas y los \xedtems cotizados."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Empresa:"})," ",e.company?.name]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Fecha:"})," ",new Date(e.quoteDate).toLocaleDateString()]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Vencimiento:"})," ",e.expiryDate?new Date(e.expiryDate).toLocaleDateString():"N/A"]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Estado:"})," ",e.status]}),e.notes&&(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx("strong",{children:"Notas:"})," ",e.notes]})]}),a.jsx("h4",{className:"font-semibold mt-4",children:"\xcdtems de la Cotizaci\xf3n"}),(0,a.jsxs)(ij.iA,{children:[a.jsx(ij.xD,{children:(0,a.jsxs)(ij.SC,{children:[a.jsx(ij.ss,{children:"Producto"}),a.jsx(ij.ss,{className:"text-center",children:"Cantidad"}),a.jsx(ij.ss,{className:"text-right",children:"Precio Unit."}),a.jsx(ij.ss,{className:"text-right",children:"Total"})]})}),a.jsx(ij.RM,{children:e.items?.map(e=>a.jsxs(ij.SC,{children:[a.jsx(ij.pj,{children:e.product?.name}),a.jsx(ij.pj,{className:"text-center",children:e.quantity}),a.jsx(ij.pj,{className:"text-right",children:it.eQ(parseFloat(e.unitPrice))}),a.jsx(ij.pj,{className:"text-right",children:it.eQ(parseFloat(e.totalPriceWithVat))})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex justify-end mt-4 space-x-4 font-semibold",children:[a.jsx("div",{children:"Subtotal:"}),a.jsx("div",{children:(0,it.eQ)(parseFloat(e.subTotalAmount))})]}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-4 font-semibold",children:[a.jsx("div",{children:"IVA (19%):"}),a.jsx("div",{children:(0,it.eQ)(parseFloat(e.totalVatAmount))})]}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-4 font-bold text-lg",children:[a.jsx("div",{children:"Total:"}),a.jsx("div",{children:(0,it.eQ)(parseFloat(e.grandTotalAmount))})]}),a.jsx(iw.cN,{children:a.jsx(a7.z,{onClick:t,children:"Cerrar"})})]})});var ik=r(6340),iN=r(6693);let iA={async getAllQuotes(e=1,t=10){let r=await (0,iN.Z)(`/quotes?page=${e}&limit=${t}`);return{data:r.data,total:r.total,page:r.currentPage,limit:t,pages:r.pages}},getQuoteById:async e=>(0,iN.Z)(`/quotes/${e}`),createQuote:async e=>(0,iN.Z)("/quotes",{method:"POST",body:JSON.stringify(e)}),updateQuote:async(e,t)=>(0,iN.Z)(`/quotes/${e}`,{method:"PATCH",body:JSON.stringify(t)}),async deleteQuote(e){await (0,iN.Z)(`/quotes/${e}`,{method:"DELETE"})}},iE=()=>{let{isAuthenticated:e,currentUser:t,isLoading:r}=(0,s.a)(),l=(0,n.useRouter)(),[u,d]=(0,i.useState)(!1),[c,f]=(0,i.useState)([]),[p,m]=(0,i.useState)(null),[h,g]=(0,i.useState)(null),[y,v]=(0,i.useState)(!1),[x,b]=(0,i.useState)(null),[_,w]=(0,i.useState)(!0),[j,z]=(0,i.useState)(null),[k,N]=(0,i.useState)(1),[A,E]=(0,i.useState)(1),[S,C]=(0,i.useState)(0),D=(0,i.useCallback)(async(r=1)=>{if(!e||t?.role!==iy.i4.ADMIN&&t?.role!==iy.i4.EDITOR&&t?.role!==iy.i4.VIEWER){z("No autorizado para ver esta p\xe1gina o no autenticado."),w(!1),e||l.push("/login");return}w(!0);try{let e=await iA.getAllQuotes(r);f(e.data),E(e.pages),N(e.page),C(e.total)}catch(e){console.error("Error fetching quotes:",e),e.message&&e.message.includes("Unauthorized")?l.push("/login"):z("Error al cargar las cotizaciones.")}finally{w(!1)}},[e,t,l]);(0,i.useEffect)(()=>{r||D(k)},[D,k,r]);let V=(0,i.useCallback)(()=>{g(null),d(!0)},[]),$=(0,i.useCallback)(e=>{g(e),d(!0)},[]),I=(0,i.useCallback)(e=>{b(e),v(!0)},[]),F=(0,i.useCallback)(async()=>{if(x)try{await iA.deleteQuote(x.id),D(k),b(null),v(!1)}catch(e){console.error("Error deleting quote:",e),e.message&&e.message.includes("Unauthorized")?l.push("/login"):z("Error al eliminar la cotizaci\xf3n.")}},[x,D,k,l]),T=(0,i.useCallback)(()=>{b(null),v(!1)},[]),P=(0,i.useCallback)(async e=>{try{h?await iA.updateQuote(h.id,e):await iA.createQuote(e),d(!1),g(null),D(k)}catch(e){console.error("Error saving quote:",e),e.message&&e.message.includes("Unauthorized")?l.push("/login"):z("Error al guardar la cotizaci\xf3n.")}},[h,D,k,l]),Z=(0,i.useCallback)(()=>{d(!1),g(null)},[]),O=(0,i.useCallback)(e=>{m(e)},[]),R=(0,i.useCallback)(()=>{m(null)},[]),U=e=>{N(e)},L=e=>{switch(e){case"DRAFT":return"bg-gray-500/10 text-gray-700 dark:text-gray-400";case"SENT":return"bg-blue-500/10 text-blue-700 dark:text-blue-400";case"ACCEPTED":return"bg-green-500/10 text-green-700 dark:text-green-400";case"REJECTED":return"bg-red-500/10 text-red-700 dark:text-red-400";case"INVOICED":return"bg-purple-500/10 text-purple-700 dark:text-purple-400";default:return"bg-muted text-muted-foreground"}};return r?a.jsx("div",{className:"text-center py-8",children:"Cargando autenticaci\xf3n..."}):_?a.jsx("div",{className:"text-center py-8",children:"Cargando cotizaciones..."}):j?a.jsx("div",{className:"text-center py-8 text-destructive",children:j}):e&&(t?.role===iy.i4.ADMIN||t?.role===iy.i4.EDITOR||t?.role===iy.i4.VIEWER)?u?a.jsx(i_,{quoteData:h,onSave:P,onCancel:Z}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-foreground",children:"Gesti\xf3n de Cotizaciones"}),(0,a.jsxs)(a7.z,{className:"w-full sm:w-auto",onClick:V,children:[a.jsx(ig.pO,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:"Crear Nueva Cotizaci\xf3n"})]})]}),a.jsx(o.Zb,{className:"overflow-hidden border",children:a.jsx(o.aY,{className:"p-0",children:c.length>0?a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)(ij.iA,{children:[a.jsx(ij.xD,{className:"bg-muted/50",children:(0,a.jsxs)(ij.SC,{children:[a.jsx(ij.ss,{children:"ID Cotizaci\xf3n"}),a.jsx(ij.ss,{children:"Empresa"}),a.jsx(ij.ss,{className:"hidden sm:table-cell",children:"Fecha"}),a.jsx(ij.ss,{className:"hidden lg:table-cell",children:"Estado"}),a.jsx(ij.ss,{className:"text-right",children:"Total"}),a.jsx(ij.ss,{className:"text-center",children:"Acciones"})]})}),a.jsx(ij.RM,{children:c.map(e=>(0,a.jsxs)(ij.SC,{className:"hover:bg-accent transition-colors duration-150",children:[(0,a.jsxs)(ij.pj,{className:"font-mono text-muted-foreground",children:[e.id.substring(0,8),"..."]}),a.jsx(ij.pj,{children:a.jsx("div",{className:"text-sm font-medium text-foreground",children:e.company?.name})}),a.jsx(ij.pj,{className:"hidden sm:table-cell text-muted-foreground",children:new Date(e.quoteDate).toLocaleDateString()}),a.jsx(ij.pj,{className:"hidden lg:table-cell",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${L(e.status)}`,children:e.status})}),a.jsx(ij.pj,{className:"font-semibold text-primary text-right",children:(0,it.eQ)(e.grandTotalAmount)}),a.jsx(ij.pj,{className:"text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2",children:[a.jsx(a7.z,{variant:"ghost",size:"sm",onClick:()=>O(e),title:"Ver Detalles de Cotizaci\xf3n","aria-label":`Ver detalles de cotizaci\xf3n ${e.id.substring(0,8)}`,children:a.jsx(ig.tE,{className:"w-5 h-5"})}),a.jsx(a7.z,{variant:"ghost",size:"sm",onClick:()=>$(e),title:"Editar Cotizaci\xf3n","aria-label":`Editar cotizaci\xf3n ${e.id.substring(0,8)}`,children:a.jsx(ig.vd,{className:"w-5 h-5"})}),a.jsx(a7.z,{variant:"ghost",size:"sm",onClick:()=>I(e),title:"Eliminar Cotizaci\xf3n","aria-label":`Eliminar cotizaci\xf3n ${e.id.substring(0,8)}`,children:a.jsx(ig.XH,{className:"w-5 h-5"})})]})})]},e.id))})]})}):(0,a.jsxs)("div",{className:"text-center py-12 px-4",children:[a.jsx(ig.YH,{className:"mx-auto h-16 w-16 text-muted-foreground opacity-40"}),a.jsx("h3",{className:"mt-3 text-xl font-semibold text-foreground",children:"No hay cotizaciones registradas"}),a.jsx("p",{className:"mt-1.5 text-sm text-muted-foreground",children:"Comienza creando una nueva cotizaci\xf3n para verla listada aqu\xed."}),a.jsx("div",{className:"mt-6",children:(0,a.jsxs)(a7.z,{type:"button",onClick:V,children:[a.jsx(ig.pO,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:"Crear Primera Cotizaci\xf3n"})]})})]})})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[a.jsx("div",{children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["P\xe1gina ",k," de ",A," (Total: ",S," cotizaciones)"]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(a7.z,{variant:"outline",size:"sm",onClick:()=>U(k-1),disabled:k<=1,children:"Anterior"}),a.jsx(a7.z,{variant:"outline",size:"sm",onClick:()=>U(k+1),disabled:k>=A,children:"Siguiente"})]})]})]}),p&&a.jsx(iz,{quote:p,onClose:R}),y&&x&&a.jsx(ik.Z,{isOpen:y,onClose:T,onConfirm:F,title:"Confirmar Eliminaci\xf3n de Cotizaci\xf3n",message:(0,a.jsxs)(a.Fragment,{children:["\xbfEst\xe1s seguro de que quieres eliminar la cotizaci\xf3n ",(0,a.jsxs)("strong",{children:["ID: ",x.id.substring(0,8),"..."]})," para la empresa ",a.jsx("strong",{children:x.company?.name}),"? Esta acci\xf3n no se puede deshacer."]}),confirmText:"Eliminar Cotizaci\xf3n",confirmButtonClass:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",icon:a.jsx(ig.XH,{className:"w-5 h-5 mr-2"})})]}):a.jsx("div",{className:"text-center py-8 text-destructive",children:"Acceso denegado. No tienes permisos suficientes."})},iS=()=>a.jsx(iE,{})},6340:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(326),i=r(7577),n=r(4762);let s=({isOpen:e,onClose:t,onConfirm:r,title:s,message:o,confirmText:l="Confirmar",cancelText:u="Cancelar",confirmButtonClass:d="bg-primary hover:bg-primary/90 text-primary-foreground",icon:c})=>((0,i.useEffect)(()=>{if(!e)return;let r=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",r),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,t]),e)?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 dark:bg-black/75 p-4 transition-opacity duration-300 ease-in-out",onClick:t,role:"alertdialog","aria-modal":"true","aria-labelledby":"confirmation-modal-title","aria-describedby":"confirmation-modal-message",children:(0,a.jsxs)("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md flex flex-col overflow-hidden border border-border",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-border",children:[(0,a.jsxs)("h2",{id:"confirmation-modal-title",className:"text-lg sm:text-xl font-semibold text-foreground flex items-center",children:[c&&a.jsx("span",{className:"mr-2",children:c})," ",s," "]}),(0,a.jsxs)("button",{onClick:t,className:"p-1.5 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors","aria-label":"Cerrar modal",children:[a.jsx(n.b0,{className:"w-5 h-5"})," "]})]}),a.jsx("div",{className:"p-4 sm:p-5",children:(0,a.jsxs)("p",{id:"confirmation-modal-message",className:"text-sm text-foreground",children:[o," "]})}),(0,a.jsxs)("div",{className:"px-4 py-3 sm:p-5 bg-muted/50 border-t border-border flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-2 sm:space-y-0 space-y-reverse",children:[(0,a.jsxs)("button",{type:"button",onClick:t,className:"w-full sm:w-auto justify-center px-4 py-2.5 border border-border text-sm font-medium rounded-md text-foreground bg-background hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-ring dark:focus:ring-offset-card transition-colors duration-150",children:[u," "]}),(0,a.jsxs)("button",{type:"button",onClick:r,className:`w-full sm:w-auto justify-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-card transition-colors duration-150 ${d} focus:ring-current`,children:[l," "]})]})]})}):null},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var a=r(326),i=r(7577),n=r.n(i),s=r(4214),o=r(9360),l=r(7863);let u=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",outline:"border border-primary-500 text-primary-500 hover:bg-primary-50",ghost:"hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8"}},defaultVariants:{variant:"default",size:"default"}}),d=n().forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...n},o)=>{let d=i?s.g7:"button";return a.jsx(d,{className:(0,l.cn)(u({variant:t,size:r,className:e})),ref:o,...n})});d.displayName="Button"},2288:(e,t,r)=>{"use strict";r.d(t,{$N:()=>h,Be:()=>g,Vq:()=>l,cN:()=>m,cZ:()=>f,fK:()=>p,hg:()=>u});var a=r(326),i=r(7577),n=r(8958),s=r(4019),o=r(7863);let l=n.fC,u=n.xz,d=n.h_;n.x8;let c=i.forwardRef(({className:e,...t},r)=>a.jsx(n.aV,{ref:r,className:(0,o.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=n.aV.displayName;let f=i.forwardRef(({className:e,children:t,...r},i)=>(0,a.jsxs)(d,{children:[a.jsx(c,{}),(0,a.jsxs)(n.VY,{ref:i,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(s.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));f.displayName=n.VY.displayName;let p=({className:e,...t})=>a.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let m=({className:e,...t})=>a.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let h=i.forwardRef(({className:e,...t},r)=>a.jsx(n.Dx,{ref:r,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=n.Dx.displayName;let g=i.forwardRef(({className:e,...t},r)=>a.jsx(n.dk,{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=n.dk.displayName},6384:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var a=r(326),i=r(7577),n=r(7863);let s=i.forwardRef(({className:e,type:t,...r},i)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));s.displayName="Input"},1048:(e,t,r)=>{"use strict";r.d(t,{_:()=>u});var a=r(326),i=r(7577),n=r(4478),s=r(9360),o=r(7863);let l=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(({className:e,...t},r)=>a.jsx(n.f,{ref:r,className:(0,o.cn)(l(),e),...t}));u.displayName=n.f.displayName},4474:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>f,Ph:()=>u,Ql:()=>p,i4:()=>c,ki:()=>d});var a=r(326),i=r(7577),n=r(7185),s=r(8393),o=r(2933),l=r(7863);let u=n.fC;n.ZA;let d=n.B4,c=i.forwardRef(({className:e,children:t,...r},i)=>(0,a.jsxs)(n.xz,{ref:i,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(n.JO,{asChild:!0,children:a.jsx(s.Z,{className:"h-4 w-4 opacity-50"})})]}));c.displayName=n.xz.displayName;let f=i.forwardRef(({className:e,children:t,position:r="popper",...i},s)=>a.jsx(n.h_,{children:a.jsx(n.VY,{ref:s,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:a.jsx(n.l_,{className:(0,l.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));f.displayName=n.VY.displayName,i.forwardRef(({className:e,...t},r)=>a.jsx(n.__,{ref:r,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.__.displayName;let p=i.forwardRef(({className:e,children:t,...r},i)=>(0,a.jsxs)(n.ck,{ref:i,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n.wU,{children:a.jsx(o.Z,{className:"h-4 w-4"})})}),a.jsx(n.eT,{children:t})]}));p.displayName=n.ck.displayName,i.forwardRef(({className:e,...t},r)=>a.jsx(n.Z0,{ref:r,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},5940:(e,t,r)=>{"use strict";r.d(t,{RM:()=>l,SC:()=>u,iA:()=>s,pj:()=>c,ss:()=>d,xD:()=>o});var a=r(326),i=r(7577),n=r(7863);let s=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",e),...t})}));s.displayName="Table";let o=i.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let l=i.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...t}));l.displayName="TableBody",i.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:hidden",e),...t})).displayName="TableFooter";let u=i.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));u.displayName="TableRow";let d=i.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));d.displayName="TableHead";let c=i.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableCell",i.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},6824:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var a=r(4099);let i=()=>localStorage.getItem("wolfflow_token"),n=a.Z.create({baseURL:"http://localhost:3001",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=i();return console.log("Auth Token being sent:",t),t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e))},6693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(6824);let i=async function(e,t){try{let r={};return t?.headers&&(t.headers instanceof Headers?t.headers.forEach((e,t)=>{r[t]=e}):Array.isArray(t.headers)?t.headers.forEach(([e,t])=>{r[e]=t}):Object.assign(r,t.headers)),(await (0,a.h)(e,{method:t?.method||"GET",data:t?.body,headers:r})).data}catch(e){if(e.response)throw Error(e.response.data.message||e.response.statusText);if(e.request)throw Error("No response received from server.");throw Error(e.message)}}},8588:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var a=r(6693);let i={async getAllCompanies(e=1,t=10,r={}){let i=new URLSearchParams({page:e.toString(),limit:t.toString()});return r.isClient&&i.append("isClient","true"),r.isSupplier&&i.append("isSupplier","true"),(0,a.Z)(`/companies?${i.toString()}`)},getCompanyById:async e=>(0,a.Z)(`/companies/${e}`),createCompany:async e=>await (0,a.Z)("/companies",{method:"POST",body:JSON.stringify(e)}),updateCompany:async(e,t)=>await (0,a.Z)(`/companies/${e}`,{method:"PATCH",body:JSON.stringify(t)}),async deleteCompany(e){await (0,a.Z)(`/companies/${e}`,{method:"DELETE"})}}},5649:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var a=r(6824);let i={getAllProducts:async(e,t=1,r=10)=>(await a.h.get("/products",{params:{page:t,limit:r},headers:{Authorization:`Bearer ${e}`}})).data,searchProducts:async(e,t,r=1,i=10)=>(await a.h.get("/products/search",{params:{term:t,page:r,limit:i},headers:{Authorization:`Bearer ${e}`}})).data,getPublishedProducts:async(e=1,t=10,r,i,n,s)=>(await a.h.get("/products/published",{params:{page:e,limit:t,category:r,searchQuery:i,minPrice:n,maxPrice:s}})).data,getPublishedProductById:async e=>(await a.h.get(`/products/published/${e}`)).data,getProductLots:async(e,t)=>(await a.h.get(`/products/${e}/lots`,{headers:{Authorization:`Bearer ${t}`}})).data,getAverageCost:async(e,t)=>(await a.h.get(`/products/${e}/average-cost`,{headers:{Authorization:`Bearer ${t}`}})).data,createProduct:async(e,t)=>(await a.h.post("/products",e,{headers:{Authorization:`Bearer ${t}`}})).data,updateProduct:async(e,t,r)=>(await a.h.patch(`/products/${e}`,t,{headers:{Authorization:`Bearer ${r}`}})).data,async deleteProduct(e,t){await a.h.delete(`/products/${e}`,{headers:{Authorization:`Bearer ${t}`}})},async uploadTechnicalSheet(e,t,r){let i=new FormData;return i.append("file",t),(await a.h.post(`/products/${e}/technical-sheet`,i,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r}`}})).data},deleteTechnicalSheet:async(e,t)=>(await a.h.delete(`/products/${e}/technical-sheet`,{headers:{Authorization:`Bearer ${t}`}})).data}},2771:(e,t,r)=>{"use strict";var a,i,n,s,o,l;r.d(t,{UY:()=>o,XL:()=>n,bG:()=>i,gS:()=>s,i4:()=>l,iF:()=>a}),r(7577),function(e){e.PENDING_PAYMENT="PENDING_PAYMENT",e.PROCESSING="PROCESSING",e.SHIPPED="SHIPPED",e.DELIVERED="DELIVERED",e.CANCELLED="CANCELLED",e.REFUNDED="REFUNDED"}(a||(a={})),function(e){e.PENDING="PENDING",e.PAID="PAID",e.FAILED="FAILED",e.REFUNDED="REFUNDED"}(i||(i={})),function(e){e.CASH="CASH",e.DEBIT_CARD="DEBIT_CARD",e.CREDIT_CARD="CREDIT_CARD",e.BANK_TRANSFER="BANK_TRANSFER",e.OTHER="OTHER"}(n||(n={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.ACCEPTED="ACCEPTED",e.REJECTED="REJECTED",e.EXPIRED="EXPIRED",e.INVOICED="INVOICED"}(s||(s={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.PAID="PAID",e.PARTIALLY_PAID="PARTIALLY_PAID",e.OVERDUE="OVERDUE",e.VOID="VOID",e.CANCELLED="CANCELLED"}(o||(o={})),function(e){e.ADMIN="ADMIN",e.EDITOR="EDITOR",e.VIEWER="VIEWER",e.CLIENT="CLIENT"}(l||(l={}))},4713:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/home/astro/subred-erp/frontend/app/admin/quotes/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7364,434,325,531,2574,3653,4278,4139],()=>r(3882));module.exports=a})();