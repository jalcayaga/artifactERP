(()=>{var e={};e.id=8606,e.ids=[8606],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1396:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>f,tree:()=>d}),t(377),t(596),t(1506),t(5866);var s=t(3191),a=t(8716),n=t(7922),i=t.n(n),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["admin",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,377)),"/home/astro/subred-erp/frontend/app/admin/orders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,596)),"/home/astro/subred-erp/frontend/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/home/astro/subred-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/home/astro/subred-erp/frontend/app/admin/orders/page.tsx"],c="/admin/orders/page",p={require:t,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/orders/page",pathname:"/admin/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9990:(e,r,t)=>{Promise.resolve().then(t.bind(t,6916))},6916:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(326),a=t(7577),n=t(7394),i=t(5904),o=t(2771),l=t(2643),d=t(5940),u=t(7863),c=t(434),p=t(772);let f=()=>{let{token:e,isAuthenticated:r,currentUser:t}=(0,n.a)(),[f,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[E,N]=(0,a.useState)(null),g=(0,a.useCallback)(async()=>{if(!r||!e||t?.role!==o.i4.ADMIN){N("No autorizado para ver esta p\xe1gina."),h(!1);return}try{h(!0);let r=await i.p.getUserOrders(e);m(r.data)}catch(e){console.error("Error fetching orders:",e),N("Error al cargar los pedidos.")}finally{h(!1)}},[r,e,t]);return((0,a.useEffect)(()=>{g()},[g]),x)?s.jsx("div",{className:"text-center py-8",children:"Cargando pedidos..."}):E?s.jsx("div",{className:"text-center py-8 text-destructive",children:E}):r&&t?.role===o.i4.ADMIN?(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Gesti\xf3n de Pedidos"}),s.jsx(l.Zb,{children:s.jsx(l.aY,{className:"p-0",children:(0,s.jsxs)(d.iA,{children:[s.jsx(d.xD,{children:(0,s.jsxs)(d.SC,{children:[s.jsx(d.ss,{children:"ID Pedido"}),s.jsx(d.ss,{children:"Cliente"}),s.jsx(d.ss,{children:"Fecha"}),s.jsx(d.ss,{children:"Total"}),s.jsx(d.ss,{children:"Estado"}),s.jsx(d.ss,{children:"Estado Pago"}),s.jsx(d.ss,{className:"text-right",children:"Acciones"})]})}),s.jsx(d.RM,{children:f.map(e=>(0,s.jsxs)(d.SC,{children:[s.jsx(d.pj,{children:e.id.substring(0,8)}),(0,s.jsxs)(d.pj,{children:[e.user?.firstName," ",e.user?.lastName]}),s.jsx(d.pj,{children:new Date(e.createdAt).toLocaleDateString()}),s.jsx(d.pj,{children:(0,u.eQ)(e.grandTotalAmount)}),s.jsx(d.pj,{children:e.status}),s.jsx(d.pj,{children:e.paymentStatus}),s.jsx(d.pj,{className:"text-right",children:s.jsx(c.default,{href:`/admin/sales/${e.id}`,children:s.jsx(p.z,{variant:"outline",size:"sm",children:"Ver Detalles"})})})]},e.id))})]})})})]}):s.jsx("div",{className:"text-center py-8 text-destructive",children:"Acceso denegado. No tienes permisos de administrador."})};function m(){return s.jsx(f,{})}},772:(e,r,t)=>{"use strict";t.d(r,{z:()=>u});var s=t(326),a=t(7577),n=t.n(a),i=t(4214),o=t(9360),l=t(7863);let d=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",outline:"border border-primary-500 text-primary-500 hover:bg-primary-50",ghost:"hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8"}},defaultVariants:{variant:"default",size:"default"}}),u=n().forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...n},o)=>{let u=a?i.g7:"button";return s.jsx(u,{className:(0,l.cn)(d({variant:r,size:t,className:e})),ref:o,...n})});u.displayName="Button"},5940:(e,r,t)=>{"use strict";t.d(r,{RM:()=>l,SC:()=>d,iA:()=>i,pj:()=>c,ss:()=>u,xD:()=>o});var s=t(326),a=t(7577),n=t(7863);let i=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",e),...r})}));i.displayName="Table";let o=a.forwardRef(({className:e,...r},t)=>s.jsx("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",e),...r}));o.displayName="TableHeader";let l=a.forwardRef(({className:e,...r},t)=>s.jsx("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...r}));l.displayName="TableBody",a.forwardRef(({className:e,...r},t)=>s.jsx("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:hidden",e),...r})).displayName="TableFooter";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));d.displayName="TableRow";let u=a.forwardRef(({className:e,...r},t)=>s.jsx("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));u.displayName="TableHead";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));c.displayName="TableCell",a.forwardRef(({className:e,...r},t)=>s.jsx("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption"},5904:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var s=t(4099);let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",n={async createOrder(e,r){try{return(await s.Z.post(`${a}/orders`,e,{headers:{Authorization:`Bearer ${r}`}})).data}catch(e){throw console.error("Error creating order:",e),e}},async getUserOrders(e,r=1,t=10){try{return(await s.Z.get(`${a}/orders`,{headers:{Authorization:`Bearer ${e}`},params:{page:r,limit:t}})).data}catch(e){throw console.error("Error fetching user orders:",e),e}},async getOrderById(e,r){try{return(await s.Z.get(`${a}/orders/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw console.error(`Error fetching order ${e}:`,r),r}}}},2771:(e,r,t)=>{"use strict";var s,a,n,i,o,l;t.d(r,{UY:()=>o,XL:()=>n,bG:()=>a,gS:()=>i,i4:()=>l,iF:()=>s}),t(7577),function(e){e.PENDING_PAYMENT="PENDING_PAYMENT",e.PROCESSING="PROCESSING",e.SHIPPED="SHIPPED",e.DELIVERED="DELIVERED",e.CANCELLED="CANCELLED",e.REFUNDED="REFUNDED"}(s||(s={})),function(e){e.PENDING="PENDING",e.PAID="PAID",e.FAILED="FAILED",e.REFUNDED="REFUNDED"}(a||(a={})),function(e){e.CASH="CASH",e.DEBIT_CARD="DEBIT_CARD",e.CREDIT_CARD="CREDIT_CARD",e.BANK_TRANSFER="BANK_TRANSFER",e.OTHER="OTHER"}(n||(n={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.ACCEPTED="ACCEPTED",e.REJECTED="REJECTED",e.EXPIRED="EXPIRED",e.INVOICED="INVOICED"}(i||(i={})),function(e){e.DRAFT="DRAFT",e.SENT="SENT",e.PAID="PAID",e.PARTIALLY_PAID="PARTIALLY_PAID",e.OVERDUE="OVERDUE",e.VOID="VOID",e.CANCELLED="CANCELLED"}(o||(o={})),function(e){e.ADMIN="ADMIN",e.EDITOR="EDITOR",e.VIEWER="VIEWER",e.CLIENT="CLIENT"}(l||(l={}))},5047:(e,r,t)=>{"use strict";var s=t(7389);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},377:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/home/astro/subred-erp/frontend/app/admin/orders/page.tsx#default`)},8051:(e,r,t)=>{"use strict";t.d(r,{F:()=>n,e:()=>i});var s=t(7577);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function n(...e){return r=>{let t=!1,s=e.map(e=>{let s=a(e,r);return t||"function"!=typeof s||(t=!0),s});if(t)return()=>{for(let r=0;r<s.length;r++){let t=s[r];"function"==typeof t?t():a(e[r],null)}}}}function i(...e){return s.useCallback(n(...e),e)}},4214:(e,r,t)=>{"use strict";t.d(r,{Z8:()=>i,g7:()=>o});var s=t(7577),a=t(8051),n=t(326);function i(e){let r=function(e){let r=s.forwardRef((e,r)=>{let{children:t,...n}=e;if(s.isValidElement(t)){let e,i;let o=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,l=function(e,r){let t={...r};for(let s in r){let a=e[s],n=r[s];/^on[A-Z]/.test(s)?a&&n?t[s]=(...e)=>{let r=n(...e);return a(...e),r}:a&&(t[s]=a):"style"===s?t[s]={...a,...n}:"className"===s&&(t[s]=[a,n].filter(Boolean).join(" "))}return{...e,...t}}(n,t.props);return t.type!==s.Fragment&&(l.ref=r?(0,a.F)(r,o):o),s.cloneElement(t,l)}return s.Children.count(t)>1?s.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=s.forwardRef((e,t)=>{let{children:a,...i}=e,o=s.Children.toArray(a),l=o.find(d);if(l){let e=l.props.children,a=o.map(r=>r!==l?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(r,{...i,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,n.jsx)(r,{...i,ref:t,children:a})});return t.displayName=`${e}.Slot`,t}var o=i("Slot"),l=Symbol("radix.slottable");function d(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},9360:(e,r,t)=>{"use strict";t.d(r,{j:()=>i});var s=t(1135);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.W,i=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:o}=r,l=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],s=null==o?void 0:o[e];if(null===r)return null;let n=a(r)||a(s);return i[e][n]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return n(e,l,null==r?void 0:null===(s=r.compoundVariants)||void 0===s?void 0:s.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...o,...d}[r]):({...o,...d})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7364,434,325,4278,4139],()=>t(1396));module.exports=s})();