(()=>{var e={};e.id=8442,e.ids=[8442],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1165:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(616),t(8951),t(5866),t(1506);var s=t(3191),n=t(8716),a=t(7922),i=t.n(a),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["(public)",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,616)),"/home/astro/subred-erp/frontend/app/(public)/orders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8951)),"/home/astro/subred-erp/frontend/app/(public)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/home/astro/subred-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/astro/subred-erp/frontend/app/(public)/orders/page.tsx"],u="/(public)/orders/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(public)/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6887:(e,r,t)=>{Promise.resolve().then(t.bind(t,677))},677:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(326),n=t(7577),a=t(7394),i=t(5904),o=t(7863),l=t(2643),d=t(772),c=t(434);let u=()=>{let{currentUser:e,token:r,isAuthenticated:t}=(0,a.a)(),[u,p]=(0,n.useState)([]),[x,m]=(0,n.useState)(!0),[f,h]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{if(!t||!r){m(!1),h("Debes iniciar sesi\xf3n para ver tus pedidos.");return}try{m(!0);let e=await i.p.getUserOrders(r);p(e.data)}catch(e){console.error("Error fetching orders:",e),h("No se pudieron cargar tus pedidos. Por favor, int\xe9ntalo de nuevo.")}finally{m(!1)}})()},[t,r]),x)?s.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:s.jsx("p",{children:"Cargando pedidos..."})}):f?s.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:s.jsx("p",{className:"text-destructive",children:f})}):t?(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground tracking-tight text-center mb-8 md:mb-12",children:"Mis Pedidos"}),0===u.length?(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"No tienes pedidos realizados a\xfan."}),s.jsx(c.default,{href:"/products",children:s.jsx(d.z,{children:"Explorar Productos"})})]}):s.jsx("div",{className:"space-y-6",children:u.map(e=>(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsxs)(l.ll,{className:"text-lg font-medium",children:["Pedido #",e.id.substring(0,8)]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold
                    ${"DELIVERED"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})]}),(0,s.jsxs)(l.aY,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Fecha:"}),s.jsx("p",{children:new Date(e.createdAt).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Total:"}),s.jsx("p",{className:"font-semibold",children:(0,o.eQ)(e.grandTotalAmount)})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Estado de Pago:"}),s.jsx("p",{children:e.paymentStatus})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Items:"}),s.jsx("ul",{className:"list-disc pl-5 space-y-1",children:e.orderItems.map(e=>(0,s.jsxs)("li",{className:"text-sm",children:[e.productNameSnapshot," (x",e.quantity,") - ",(0,o.eQ)(e.unitPriceSnapshot)]},e.id))})]}),s.jsx("div",{className:"mt-6 text-right",children:s.jsx(c.default,{href:`/orders/${e.id}`,children:s.jsx(d.z,{variant:"outline",children:"Ver Detalles"})})})]})]},e.id))})]}):s.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:(0,s.jsxs)("p",{children:["Por favor, ",s.jsx(c.default,{href:"/login",className:"text-primary hover:underline",children:"inicia sesi\xf3n"})," para ver tus pedidos."]})})}},772:(e,r,t)=>{"use strict";t.d(r,{z:()=>c});var s=t(326),n=t(7577),a=t.n(n),i=t(4214),o=t(9360),l=t(7863);let d=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600",outline:"border border-primary-500 text-primary-500 hover:bg-primary-50",ghost:"hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-12 px-8"}},defaultVariants:{variant:"default",size:"default"}}),c=a().forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...a},o)=>{let c=n?i.g7:"button";return s.jsx(c,{className:(0,l.cn)(d({variant:r,size:t,className:e})),ref:o,...a})});c.displayName="Button"},2643:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>l,SZ:()=>c,Zb:()=>o,aY:()=>u,eW:()=>p,ll:()=>d});var s=t(326),n=t(7577),a=t.n(n),i=t(7863);let o=a().forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("rounded-xl bg-card text-card-foreground shadow-sm","border border-border","transition-all duration-200 ease-in-out","hover:shadow-lg dark:hover:shadow-primary/20","hover:border-border dark:hover:border-primary/40","dark:hover:bg-muted/20",e),...r}));o.displayName="Card";let l=a().forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-5",e),...r}));l.displayName="CardHeader";let d=a().forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,i.cn)("text-xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let c=a().forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));c.displayName="CardDescription";let u=a().forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("p-5 pt-0",e),...r}));u.displayName="CardContent";let p=a().forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-5 pt-0",e),...r}));p.displayName="CardFooter"},5904:(e,r,t)=>{"use strict";t.d(r,{p:()=>a});var s=t(4099);let n=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",a={async createOrder(e,r){try{return(await s.Z.post(`${n}/orders`,e,{headers:{Authorization:`Bearer ${r}`}})).data}catch(e){throw console.error("Error creating order:",e),e}},async getUserOrders(e,r=1,t=10){try{return(await s.Z.get(`${n}/orders`,{headers:{Authorization:`Bearer ${e}`},params:{page:r,limit:t}})).data}catch(e){throw console.error("Error fetching user orders:",e),e}},async getOrderById(e,r){try{return(await s.Z.get(`${n}/orders/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw console.error(`Error fetching order ${e}:`,r),r}}}},7863:(e,r,t)=>{"use strict";t.d(r,{LH:()=>l,cn:()=>a,eQ:()=>i,fW:()=>d,p6:()=>o});var s=t(1135),n=t(1009);function a(...e){return(0,n.m6)((0,s.W)(e))}function i(e){let r=Number(e);if(isNaN(r))return"$0";let t=Math.abs(r),s=(t%1).toFixed(2).substring(2),n=Math.trunc(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),a=`$${n}`;return"00"!==s&&(a+=`,${s}`),r<0?`-${a}`:a}function o(e){try{let r=new Date(e),t=String(r.getDate()).padStart(2,"0"),s=String(r.getMonth()+1).padStart(2,"0"),n=r.getFullYear();return`${t}/${s}/${n}`}catch(r){return console.error("Invalid date provided to formatDate:",e),"Fecha inv\xe1lida"}}function l(e){if("string"!=typeof e)return NaN;let r=parseFloat(e.replace(/\$\s?|(,*)/g,"").replace(/\./g,"").replace(",","."));return isNaN(r)?0:r}function d(e){if("string"!=typeof e||(e=e.replace(/\./g,"").replace(/-/g,"")).length<2)return!1;let r=e.slice(0,-1),t=e.slice(-1).toUpperCase(),s=0,n=2;for(let e=r.length-1;e>=0;e--)s+=parseInt(r[e],10)*n,++n>7&&(n=2);let a=11-s%11;return(11===a?"0":10===a?"K":a.toString())===t}},616:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/home/astro/subred-erp/frontend/app/(public)/orders/page.tsx#default`)},8051:(e,r,t)=>{"use strict";t.d(r,{F:()=>a,e:()=>i});var s=t(7577);function n(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function a(...e){return r=>{let t=!1,s=e.map(e=>{let s=n(e,r);return t||"function"!=typeof s||(t=!0),s});if(t)return()=>{for(let r=0;r<s.length;r++){let t=s[r];"function"==typeof t?t():n(e[r],null)}}}}function i(...e){return s.useCallback(a(...e),e)}},4214:(e,r,t)=>{"use strict";t.d(r,{Z8:()=>i,g7:()=>o});var s=t(7577),n=t(8051),a=t(326);function i(e){let r=function(e){let r=s.forwardRef((e,r)=>{let{children:t,...a}=e;if(s.isValidElement(t)){let e,i;let o=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,l=function(e,r){let t={...r};for(let s in r){let n=e[s],a=r[s];/^on[A-Z]/.test(s)?n&&a?t[s]=(...e)=>{let r=a(...e);return n(...e),r}:n&&(t[s]=n):"style"===s?t[s]={...n,...a}:"className"===s&&(t[s]=[n,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==s.Fragment&&(l.ref=r?(0,n.F)(r,o):o),s.cloneElement(t,l)}return s.Children.count(t)>1?s.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=s.forwardRef((e,t)=>{let{children:n,...i}=e,o=s.Children.toArray(n),l=o.find(d);if(l){let e=l.props.children,n=o.map(r=>r!==l?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...i,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,a.jsx)(r,{...i,ref:t,children:n})});return t.displayName=`${e}.Slot`,t}var o=i("Slot"),l=Symbol("radix.slottable");function d(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},9360:(e,r,t)=>{"use strict";t.d(r,{j:()=>i});var s=t(1135);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.W,i=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return a(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:o}=r,l=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],s=null==o?void 0:o[e];if(null===r)return null;let a=n(r)||n(s);return i[e][a]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return a(e,l,null==r?void 0:null===(s=r.compoundVariants)||void 0===s?void 0:s.reduce((e,r)=>{let{class:t,className:s,...n}=r;return Object.entries(n).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...o,...d}[r]):({...o,...d})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7364,434,325,6226,4278,5459],()=>t(1165));module.exports=s})();